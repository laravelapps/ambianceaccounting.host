(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1001:function(e,t,r){"use strict";var n=r(1),a=r.n(n);t.a=function(){return a.a.createElement("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 18 18"},a.a.createElement("path",{d:"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm0 1C4.589 1 1 4.589 1 9s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM5 6.999a1 1 0 1 1 2.002.004A1 1 0 0 1 5 6.999zm5.999 0a1.002 1.002 0 0 1 2.001 0 1 1 0 1 1-2.001 0zM8.959 13.5c-.086 0-.173-.002-.26-.007-2.44-.132-4.024-2.099-4.09-2.182l-.31-.392.781-.62.312.39c.014.017 1.382 1.703 3.37 1.806 1.306.072 2.61-.554 3.882-1.846l.351-.356.712.702-.35.356c-1.407 1.427-2.886 2.15-4.398 2.15z",fillRule:"evenodd"}))}},1003:function(e,t,r){"use strict";var n=r(1),i=r.n(n),a=r(282),o=r(255),l=r(1042);var s=function(s){var e,t;function r(){for(var t,e,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=s.call.apply(s,[this].concat(o))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),n=function(){var e=t.props;(0,e.onReactionSelect)(e.reaction.index)},(r="handleClick")in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,t}return t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e=this.props,t=e.reaction,r=e.hasSelectedReaction,n=e.isSelected;return i.a.createElement(l.a,{onClick:this.handleClick,"aria-label":Object(o.b)(t.emoji)+" reaction","aria-pressed":n,hasSelectedReaction:r,isSelected:n},i.a.createElement(a.a,{emojiImageSize:32,text:t.emoji}))},r}(n.Component),c=r(379);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return p});var p=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=a.call.apply(a,[this].concat(r))||this),"composer",void 0),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleHeightChange()},n.handleHeightChange=function(){var e=this.props.onHeightChange;e&&this.composer&&e(this.composer.clientHeight)},n.render=function(){var t=this,e=this.props,r=e.reactionSet,n=e.onReactionSelect,a=e.reactionIndex,o=e.prompt;return i.a.createElement(c.a,{ref:function(e){return t.composer=e},hasPrompt:!!o},o?i.a.createElement(c.b,null,o):null,r.map(function(e,t){return i.a.createElement(s,{key:t,onReactionSelect:n,reaction:e,hasSelectedReaction:null!=a,isSelected:a===e.index})}))},r}(n.Component);u(p,"defaultProps",{reactionIndex:null})},1007:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(7),a=r.n(n),o=r(1),i=r.n(o),c=r(993),u=r(19),s=r(191);var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.componentDidMount=function(){var e=this;this.interval=setInterval(function(){e.forceUpdate()},6e4)},a.componentWillUnmount=function(){clearInterval(this.interval),this.interval=null},a.getAttribution=function(){var e=this.props.part.body;if(e&&0!==e.length)return e[0].attribution},a.getSaveState=function(){var e=this.props.part,t=e.saveState,r=e.seenState,n=e.createdAt,a=e.showCreatedAt,o=e.author,i=e.saveFailureReason,s=a?Object(c.f)(n):null,l=this.seenStateText(r);return!o.isSelf&&a?""+this.botStateText(o)+s+".":"saving"===t?Object(u.c)("message_state_sending"):"failed"===t?"file_size"===i?Object(u.c)("file_too_big"):Object(u.c)("failed_to_send"):"saved"===t&&o.isSelf&&s?s+". "+l:void 0},a.seenStateText=function(e){return"not-seen-yet"===e?Object(u.c)("message_unseen"):"seen"===e?Object(u.c)("message_seen"):""},a.botStateText=function(e){return e.isBot?Object(u.c)("bot")+" · ":""},a.renderSaveState=function(){return i.a.createElement(s.c,{className:"intercom-conversation-part-metadata-save-state"},this.getSaveState())},a.renderAttribution=function(){var e=this.getAttribution();return e?i.a.createElement(s.a,null,Object(u.c)("gif_attribution",{providername:e})):null},a.render=function(){return i.a.createElement(s.b,{className:"intercom-conversation-part-metadata"},this.renderAttribution(),this.renderSaveState())},n}(o.Component);l.propTypes={part:a.a.shape({body:a.a.arrayOf(a.a.shape({attribution:a.a.string})),saveState:a.a.oneOf(["failed","saving","saved"]),saveFailureReason:a.a.string,seenState:a.a.oneOf(["not-seen-yet","seen"]),createdAt:a.a.date,showCreatedAt:a.a.bool,author:a.a.shape({isSelf:a.a.bool.isRequired}).isRequired}).isRequired}},1008:function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return l});var n=r(95),a=r.n(n),o=r(280),i=r.n(o),s=function(){var t=i.a.apply(void 0,arguments);return function(e){return e.persist(),t(e)}},l=function(){var t=a.a.apply(void 0,arguments);return function(e){return e.persist(),t(e)}}},1009:function(e,t,r){"use strict";r.d(t,"d",function(){return d}),r.d(t,"c",function(){return h}),r.d(t,"b",function(){return m}),r.d(t,"a",function(){return f});var n=/\s+/g,a=/^(00)|(\+)/i,o=/[^(\d|\s|\+|\.|\(|\)|\-)]/g,i=/\D/g,s="that_number_needs_a_prefix",l="that_number_doesnt_look_quite_right",c="that_country_code_doesnt_look_quite_right",u="that_number_is_missing_a_few_digits",p="that_number_has_too_many_digits",d=function(e){return void 0===h(e)},h=function(e){if(!b(e))return s;if((e=e.replace(a,"")).match(o))return l;if(15<(e=e.replace(i,"")).length)return p;var t=f(e);return t&&(e=e.substring(t.dialCode.length)),e.length<6?u:t?void 0:c},m=function(e){var t=j[e];return t?"+"+t.dialCode:"+1"},f=function(e){if(!((e=g(e)).length<4)){var t=v(e);return x(t)}},b=function(e){return e.match(a)},g=function(e){return(e=(e=(e=e.replace(n,"")).replace(a,"")).replace(o,"")).slice(0,4)},v=function(t){for(var e=[],r=Object.keys(j),n=0;n<=r.length-1;n++){var a=y(r[n]),o=C(a);if(-1<o.indexOf(t)){e.push(a);break}o.some(function(e){return t.startsWith(e)})&&e.push(a)}return e},y=function(e){return Object.assign(j[e],{code:e})},C=function(e){var t=e.dialCode,r=e.areaCodes;return r?r.map(function(e){return""+t+e}):[t]},x=function(e){if(1===e.length)return e[0];if(1<e.length&&1===new Set(e.map(function(e){return e.dialCode})).size)return e.find(function(e){return 0===e.priority})},j={af:{dialCode:"93",areaCodes:null,priority:0},al:{dialCode:"355",areaCodes:null,priority:0},dz:{dialCode:"213",areaCodes:null,priority:0},as:{dialCode:"1684",areaCodes:null,priority:0},ad:{dialCode:"376",areaCodes:null,priority:0},ao:{dialCode:"244",areaCodes:null,priority:0},ai:{dialCode:"1264",areaCodes:null,priority:0},ag:{dialCode:"1268",areaCodes:null,priority:0},ar:{dialCode:"54",areaCodes:null,priority:0},am:{dialCode:"374",areaCodes:null,priority:0},aw:{dialCode:"297",areaCodes:null,priority:0},au:{dialCode:"61",areaCodes:null,priority:0},at:{dialCode:"43",areaCodes:null,priority:0},az:{dialCode:"994",areaCodes:null,priority:0},bs:{dialCode:"1242",areaCodes:null,priority:0},bh:{dialCode:"973",areaCodes:null,priority:0},bd:{dialCode:"880",areaCodes:null,priority:0},bb:{dialCode:"1246",areaCodes:null,priority:0},by:{dialCode:"375",areaCodes:null,priority:0},be:{dialCode:"32",areaCodes:null,priority:0},bz:{dialCode:"501",areaCodes:null,priority:0},bj:{dialCode:"229",areaCodes:null,priority:0},bm:{dialCode:"1441",areaCodes:null,priority:0},bt:{dialCode:"975",areaCodes:null,priority:0},bo:{dialCode:"591",areaCodes:null,priority:0},ba:{dialCode:"387",areaCodes:null,priority:0},bw:{dialCode:"267",areaCodes:null,priority:0},br:{dialCode:"55",areaCodes:null,priority:0},io:{dialCode:"246",areaCodes:null,priority:0},vg:{dialCode:"1284",areaCodes:null,priority:0},bn:{dialCode:"673",areaCodes:null,priority:0},bg:{dialCode:"359",areaCodes:null,priority:0},bf:{dialCode:"226",areaCodes:null,priority:0},bi:{dialCode:"257",areaCodes:null,priority:0},kh:{dialCode:"855",areaCodes:null,priority:0},cm:{dialCode:"237",areaCodes:null,priority:0},ca:{dialCode:"1",areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"],priority:1},cv:{dialCode:"238",areaCodes:null,priority:0},bq:{dialCode:"599",areaCodes:null,priority:1},ky:{dialCode:"1345",areaCodes:null,priority:0},cf:{dialCode:"236",areaCodes:null,priority:0},td:{dialCode:"235",areaCodes:null,priority:0},cl:{dialCode:"56",areaCodes:null,priority:0},cn:{dialCode:"86",areaCodes:null,priority:0},cx:{dialCode:"61",areaCodes:null,priority:2},cc:{dialCode:"61",areaCodes:null,priority:1},co:{dialCode:"57",areaCodes:null,priority:0},km:{dialCode:"269",areaCodes:null,priority:0},cd:{dialCode:"243",areaCodes:null,priority:0},cg:{dialCode:"242",areaCodes:null,priority:0},ck:{dialCode:"682",areaCodes:null,priority:0},cr:{dialCode:"506",areaCodes:null,priority:0},ci:{dialCode:"225",areaCodes:null,priority:0},hr:{dialCode:"385",areaCodes:null,priority:0},cu:{dialCode:"53",areaCodes:null,priority:0},cw:{dialCode:"599",areaCodes:null,priority:0},cy:{dialCode:"357",areaCodes:null,priority:0},cz:{dialCode:"420",areaCodes:null,priority:0},dk:{dialCode:"45",areaCodes:null,priority:0},dj:{dialCode:"253",areaCodes:null,priority:0},dm:{dialCode:"1767",areaCodes:null,priority:0},do:{dialCode:"1",areaCodes:["809","829","849"],priority:2},ec:{dialCode:"593",areaCodes:null,priority:0},eg:{dialCode:"20",areaCodes:null,priority:0},sv:{dialCode:"503",areaCodes:null,priority:0},gq:{dialCode:"240",areaCodes:null,priority:0},er:{dialCode:"291",areaCodes:null,priority:0},ee:{dialCode:"372",areaCodes:null,priority:0},et:{dialCode:"251",areaCodes:null,priority:0},fk:{dialCode:"500",areaCodes:null,priority:0},fo:{dialCode:"298",areaCodes:null,priority:0},fj:{dialCode:"679",areaCodes:null,priority:0},fi:{dialCode:"358",areaCodes:null,priority:0},fr:{dialCode:"33",areaCodes:null,priority:0},gf:{dialCode:"594",areaCodes:null,priority:0},pf:{dialCode:"689",areaCodes:null,priority:0},ga:{dialCode:"241",areaCodes:null,priority:0},gm:{dialCode:"220",areaCodes:null,priority:0},ge:{dialCode:"995",areaCodes:null,priority:0},de:{dialCode:"49",areaCodes:null,priority:0},gh:{dialCode:"233",areaCodes:null,priority:0},gi:{dialCode:"350",areaCodes:null,priority:0},gr:{dialCode:"30",areaCodes:null,priority:0},gl:{dialCode:"299",areaCodes:null,priority:0},gd:{dialCode:"1473",areaCodes:null,priority:0},gp:{dialCode:"590",areaCodes:null,priority:0},gu:{dialCode:"1671",areaCodes:null,priority:0},gt:{dialCode:"502",areaCodes:null,priority:0},gg:{dialCode:"44",areaCodes:null,priority:1},gn:{dialCode:"224",areaCodes:null,priority:0},gw:{dialCode:"245",areaCodes:null,priority:0},gy:{dialCode:"592",areaCodes:null,priority:0},ht:{dialCode:"509",areaCodes:null,priority:0},hn:{dialCode:"504",areaCodes:null,priority:0},hk:{dialCode:"852",areaCodes:null,priority:0},hu:{dialCode:"36",areaCodes:null,priority:0},is:{dialCode:"354",areaCodes:null,priority:0},in:{dialCode:"91",areaCodes:null,priority:0},id:{dialCode:"62",areaCodes:null,priority:0},ir:{dialCode:"98",areaCodes:null,priority:0},iq:{dialCode:"964",areaCodes:null,priority:0},ie:{dialCode:"353",areaCodes:null,priority:0},im:{dialCode:"44",areaCodes:null,priority:2},il:{dialCode:"972",areaCodes:null,priority:0},it:{dialCode:"39",areaCodes:null,priority:0},jm:{dialCode:"1876",areaCodes:null,priority:0},jp:{dialCode:"81",areaCodes:null,priority:0},je:{dialCode:"44",areaCodes:null,priority:3},jo:{dialCode:"962",areaCodes:null,priority:0},kz:{dialCode:"7",areaCodes:null,priority:1},ke:{dialCode:"254",areaCodes:null,priority:0},ki:{dialCode:"686",areaCodes:null,priority:0},xk:{dialCode:"383",areaCodes:null,priority:0},kw:{dialCode:"965",areaCodes:null,priority:0},kg:{dialCode:"996",areaCodes:null,priority:0},la:{dialCode:"856",areaCodes:null,priority:0},lv:{dialCode:"371",areaCodes:null,priority:0},lb:{dialCode:"961",areaCodes:null,priority:0},ls:{dialCode:"266",areaCodes:null,priority:0},lr:{dialCode:"231",areaCodes:null,priority:0},ly:{dialCode:"218",areaCodes:null,priority:0},li:{dialCode:"423",areaCodes:null,priority:0},lt:{dialCode:"370",areaCodes:null,priority:0},lu:{dialCode:"352",areaCodes:null,priority:0},mo:{dialCode:"853",areaCodes:null,priority:0},mk:{dialCode:"389",areaCodes:null,priority:0},mg:{dialCode:"261",areaCodes:null,priority:0},mw:{dialCode:"265",areaCodes:null,priority:0},my:{dialCode:"60",areaCodes:null,priority:0},mv:{dialCode:"960",areaCodes:null,priority:0},ml:{dialCode:"223",areaCodes:null,priority:0},mt:{dialCode:"356",areaCodes:null,priority:0},mh:{dialCode:"692",areaCodes:null,priority:0},mq:{dialCode:"596",areaCodes:null,priority:0},mr:{dialCode:"222",areaCodes:null,priority:0},mu:{dialCode:"230",areaCodes:null,priority:0},yt:{dialCode:"262",areaCodes:null,priority:1},mx:{dialCode:"52",areaCodes:null,priority:0},fm:{dialCode:"691",areaCodes:null,priority:0},md:{dialCode:"373",areaCodes:null,priority:0},mc:{dialCode:"377",areaCodes:null,priority:0},mn:{dialCode:"976",areaCodes:null,priority:0},me:{dialCode:"382",areaCodes:null,priority:0},ms:{dialCode:"1664",areaCodes:null,priority:0},ma:{dialCode:"212",areaCodes:null,priority:0},mz:{dialCode:"258",areaCodes:null,priority:0},mm:{dialCode:"95",areaCodes:null,priority:0},na:{dialCode:"264",areaCodes:null,priority:0},nr:{dialCode:"674",areaCodes:null,priority:0},np:{dialCode:"977",areaCodes:null,priority:0},nl:{dialCode:"31",areaCodes:null,priority:0},nc:{dialCode:"687",areaCodes:null,priority:0},nz:{dialCode:"64",areaCodes:null,priority:0},ni:{dialCode:"505",areaCodes:null,priority:0},ne:{dialCode:"227",areaCodes:null,priority:0},ng:{dialCode:"234",areaCodes:null,priority:0},nu:{dialCode:"683",areaCodes:null,priority:0},nf:{dialCode:"672",areaCodes:null,priority:0},kp:{dialCode:"850",areaCodes:null,priority:0},mp:{dialCode:"1670",areaCodes:null,priority:0},no:{dialCode:"47",areaCodes:null,priority:0},om:{dialCode:"968",areaCodes:null,priority:0},pk:{dialCode:"92",areaCodes:null,priority:0},pw:{dialCode:"680",areaCodes:null,priority:0},ps:{dialCode:"970",areaCodes:null,priority:0},pa:{dialCode:"507",areaCodes:null,priority:0},pg:{dialCode:"675",areaCodes:null,priority:0},py:{dialCode:"595",areaCodes:null,priority:0},pe:{dialCode:"51",areaCodes:null,priority:0},ph:{dialCode:"63",areaCodes:null,priority:0},pl:{dialCode:"48",areaCodes:null,priority:0},pt:{dialCode:"351",areaCodes:null,priority:0},pr:{dialCode:"1",areaCodes:["787","939"],priority:3},qa:{dialCode:"974",areaCodes:null,priority:0},re:{dialCode:"262",areaCodes:null,priority:0},ro:{dialCode:"40",areaCodes:null,priority:0},ru:{dialCode:"7",areaCodes:null,priority:0},rw:{dialCode:"250",areaCodes:null,priority:0},bl:{dialCode:"590",areaCodes:null,priority:1},sh:{dialCode:"290",areaCodes:null,priority:0},kn:{dialCode:"1869",areaCodes:null,priority:0},lc:{dialCode:"1758",areaCodes:null,priority:0},mf:{dialCode:"590",areaCodes:null,priority:2},pm:{dialCode:"508",areaCodes:null,priority:0},vc:{dialCode:"1784",areaCodes:null,priority:0},ws:{dialCode:"685",areaCodes:null,priority:0},sm:{dialCode:"378",areaCodes:null,priority:0},st:{dialCode:"239",areaCodes:null,priority:0},sa:{dialCode:"966",areaCodes:null,priority:0},sn:{dialCode:"221",areaCodes:null,priority:0},rs:{dialCode:"381",areaCodes:null,priority:0},sc:{dialCode:"248",areaCodes:null,priority:0},sl:{dialCode:"232",areaCodes:null,priority:0},sg:{dialCode:"65",areaCodes:null,priority:0},sx:{dialCode:"1721",areaCodes:null,priority:0},sk:{dialCode:"421",areaCodes:null,priority:0},si:{dialCode:"386",areaCodes:null,priority:0},sb:{dialCode:"677",areaCodes:null,priority:0},so:{dialCode:"252",areaCodes:null,priority:0},za:{dialCode:"27",areaCodes:null,priority:0},kr:{dialCode:"82",areaCodes:null,priority:0},ss:{dialCode:"211",areaCodes:null,priority:0},es:{dialCode:"34",areaCodes:null,priority:0},lk:{dialCode:"94",areaCodes:null,priority:0},sd:{dialCode:"249",areaCodes:null,priority:0},sr:{dialCode:"597",areaCodes:null,priority:0},sj:{dialCode:"47",areaCodes:null,priority:1},sz:{dialCode:"268",areaCodes:null,priority:0},se:{dialCode:"46",areaCodes:null,priority:0},ch:{dialCode:"41",areaCodes:null,priority:0},sy:{dialCode:"963",areaCodes:null,priority:0},tw:{dialCode:"886",areaCodes:null,priority:0},tj:{dialCode:"992",areaCodes:null,priority:0},tz:{dialCode:"255",areaCodes:null,priority:0},th:{dialCode:"66",areaCodes:null,priority:0},tl:{dialCode:"670",areaCodes:null,priority:0},tg:{dialCode:"228",areaCodes:null,priority:0},tk:{dialCode:"690",areaCodes:null,priority:0},to:{dialCode:"676",areaCodes:null,priority:0},tt:{dialCode:"1868",areaCodes:null,priority:0},tn:{dialCode:"216",areaCodes:null,priority:0},tr:{dialCode:"90",areaCodes:null,priority:0},tm:{dialCode:"993",areaCodes:null,priority:0},tc:{dialCode:"1649",areaCodes:null,priority:0},tv:{dialCode:"688",areaCodes:null,priority:0},vi:{dialCode:"1340",areaCodes:null,priority:0},ug:{dialCode:"256",areaCodes:null,priority:0},ua:{dialCode:"380",areaCodes:null,priority:0},ae:{dialCode:"971",areaCodes:null,priority:0},gb:{dialCode:"44",areaCodes:null,priority:0},us:{dialCode:"1",areaCodes:null,priority:0},uy:{dialCode:"598",areaCodes:null,priority:0},uz:{dialCode:"998",areaCodes:null,priority:0},vu:{dialCode:"678",areaCodes:null,priority:0},va:{dialCode:"39",areaCodes:null,priority:1},ve:{dialCode:"58",areaCodes:null,priority:0},vn:{dialCode:"84",areaCodes:null,priority:0},wf:{dialCode:"681",areaCodes:null,priority:0},eh:{dialCode:"212",areaCodes:null,priority:1},ye:{dialCode:"967",areaCodes:null,priority:0},zm:{dialCode:"260",areaCodes:null,priority:0},zw:{dialCode:"263",areaCodes:null,priority:0},ax:{dialCode:"358",areaCodes:null,priority:1}}},1010:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"b",function(){return m}),r.d(t,"d",function(){return s}),r.d(t,"a",function(){return l});var n=r(6),a=r(200),h=r(429),o=r(818);var i=function(e){if(e&&e.parts){var t=e.parts[e.parts.length-1];if(t&&t.replyOptions&&0!==t.replyOptions.length)return t}},m=function(e){var t=i(e);if(t)return t.replyOptions},s=Object(n.createSelector)([a.b],function(e){return e.composerState.selfServeSuggestionsEnabled}),l=Object(n.createSelector)([a.b,o.a,s,function(e){return e.operator.composerHasContent}],function(e,t,r,n){var a=e.composerSuggestions,o=!e.id,i=!e.userParticipated,s=m(e),l=function(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,r,n;t=a,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return a}({},h.b,{suggestions:s||[]}),c=!!t,u=a&&a.suggestions&&0<a.suggestions.length,p=a&&a.prompt&&0<a.prompt.length,d=a&&a.loading;return r&&n&&(u||p||d)?a:c&&o&&i?t:!!s?l:h.b})},1011:function(e,t,r){"use strict";var v=r(1),y=r.n(v),n=r(444),o=r(0),a=r(9),i=r(23),s={name:"4e206b",styles:"transform:translate(0,100%);bottom:-2px;right:0;"},l={name:"mnx8f1",styles:"transform:translate(-50%,100%);bottom:-2px;left:50%;"},C=Object(o.c)(n.animated.div,{target:"eknz5wz0"})("z-index:",Object(a.j)(1),";box-sizing:border-box;position:absolute;width:auto;pointer-events:none;",function(e){return"bottom"===e.position&&l}," ",function(e){return"bottomRight"===e.position&&s}," ",function(e){var t=e.position,r=e.top,n=e.bottom,a=e.left;return"auto"===t&&Object(o.b)("transform:translate(-50%,0);",null!=r&&Object(o.b)("top:",r,"px;")," ",null!=n&&Object(o.b)("bottom:",n,"px;")," left:",a,"px;")}),x=Object(o.c)("div",{target:"eknz5wz1"})("background:",Object(o.f)("grey"),";opacity:0.95;color:",Object(o.f)("white"),";border-radius:3px;font-size:12px;line-height:1.4;text-align:center;padding:2px 4px 0;white-space:nowrap;",function(e){var t=e.type,r=e.theme;return"dark"===t&&Object(o.b)("background:",Object(i.a)(r.black,.55),";")}),j=r(885);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",function(){return c});var O=500,w=200,S=100,k=20,_=15,N=5;function c(e){var t=e.children,r=e.content,n=e.position,a=void 0===n?"auto":n,o=e.enabled,i=void 0===o||o,s=e.type,l=void 0===s?"default":s,c=Object(v.useState)({top:0,bottom:null,left:0}),u=c[0],p=c[1],d=Object(v.useState)(!1),h=d[0],m=d[1],f=Object(v.useRef)(null),b=Object(v.useRef)(null),g=Object(v.useRef)(Date.now());Object(v.useEffect)(function(){return function(){return clearInterval(b.current)}},[]);return t(y.a.createElement(j.a,{duration:w},h&&i&&r?function(e){return y.a.createElement(C,E({position:a,left:u.left,top:u.top,bottom:u.bottom},e),y.a.createElement(x,{type:l},r))}:null),{onMouseEnter:function(){clearInterval(b.current),b.current=setInterval(function(){var e=Date.now()-g.current;m(O<e)},S)},onMouseLeave:function(){m(!1),clearInterval(b.current)},onMouseMove:function(e){if(f.current){var t,r,n=f.current.getBoundingClientRect(),a=e.clientX-n.left,o=e.clientY-n.top,i=n.bottom-e.clientY;o>n.height/2?t=Math.round(i+_):r=Math.round(o+k),g.current=Date.now(),m(!1),p({top:r,bottom:t,left:Math.round(a+N)})}},ref:f})}},1024:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(7),a=r.n(n),o=r(1),i=r.n(o),s=r(1005),l=r(993),c=r(19);var u=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.renderReplyStyle=function(){return i.a.createElement(s.e,null,Object(c.c)("reply_from")+" ",i.a.createElement(s.c,{className:"test-author-summary-name"},this.props.author.firstName))},a.activeOrAwayInWords=function(){return this.props.isActive?"Active":"Away"},a.renderWithAppName=function(){var e=this.props,t=e.lastActiveAt,r=e.appName,n=e.author,a=n.firstName,o=null!==this.props.isActive&&"en"===Object(c.a)();return i.a.createElement(s.e,null,i.a.createElement(s.d,{className:"test-author-summary-name-from"},i.a.createElement(s.c,{className:"test-author-summary-name"},a),"team"!==n.type?i.a.createElement(s.b,{className:"test-author-summary-from-clause"}," "+Object(c.c)("from_name",{name:r})):null),t?i.a.createElement(s.a,null,o?this.activeOrAwayInWords():Object(l.d)(t)):null)},a.render=function(){return this.props.isReplyStyle?this.renderReplyStyle():this.renderWithAppName()},n}(o.Component);u.propTypes={appName:a.a.string.isRequired,author:a.a.shape({firstName:a.a.string.isRequired,isActive:a.a.bool}).isRequired,isReplyStyle:a.a.bool.isRequired,lastActiveAt:a.a.instanceOf(Date),isActive:a.a.bool}},1025:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},1026:function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var a=r(99);function n(o,i,s){return function(t,e){var r=e(),n=r.session,a=r.app.conversationId;return o.getArticle(n,i,a).then(function(e){t({type:"OPEN_ARTICLE",article:e,metricMetadata:s,conversationId:a})})}}function o(n){return function(e,t){var r=t().app.conversationId;e({type:"CLOSE_ARTICLE",closedAt:new Date}),e(Object(a.c)(n,{type:"closed_article",payload:{conversationId:r}}))}}function i(n,a,o,i){return function(e,t){e({type:"CREATE_ARTICLE_REACTION_REQUEST",articleId:a,reactionIndex:o});var r=t().session;return n.createArticleReaction(r,a,o,!1,i)}}},1027:function(e,t,r){"use strict";t.a=function(e,t,r){var n=s(t),a="absolute"===n.position,o=r?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return e.document.body;for(var i=t;i=i.parentElement;)if(n=s(i),(!a||"static"!==n.position)&&o.test(n.overflow+n.overflowY+n.overflowX))return i;return e.document.body};var s=function(e){return window.getComputedStyle&&window.getComputedStyle(e)?window.getComputedStyle(e):e.style}},1029:function(e,t,r){"use strict";var n=r(28),a=r(1),g=r.n(a),i=r(16),s=r(991),f=r(433),b=r(19);function v(e){return 0<e.length}var o,l,c,p=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,a=e.onChange,o=e.placeholder,i=e.id,s=e.label,l=e.saveState,c=e.disabled,u=e.isBorderless,p=e.isReplyType,d=e.isSubmittable,h=e.hideErrorMessage,m=e.ariaLabel;return g.a.createElement(f.a,{value:t,placeholder:o,id:i,label:s,saveState:l,disabled:c,isValid:v,isBorderless:u,isReplyType:p,isNotificationChannel:!1,isSubmittable:d,onSubmit:n,onChange:a,hideErrorMessage:h,validationErrorMessage:r||Object(b.c)("string_is_incorrect"),ariaLabel:m||o})},n}(a.Component);c={isSubmittable:!0,hideErrorMessage:!(l="defaultProps")},l in(o=p)?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c;var d=r(1049);function u(e){return!!e.match(/^-?\d+$/)}var h=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,a=e.saveState,o=e.disabled,i=e.isBorderless,s=e.isReplyType,l=e.ariaLabel;return g.a.createElement(f.a,{value:t,placeholder:Object(b.c)("type_a_number"),saveState:a,disabled:o,isValid:u,isBorderless:i,isReplyType:s,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:r||Object(b.c)("number_is_incorrect"),ariaLabel:l||Object(b.c)("type_a_number")})},n}(a.Component);function m(e){return!!e.match(/^-?\d+\.\d+$/)}var y=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,a=e.saveState,o=e.disabled,i=e.isBorderless,s=e.isReplyType,l=e.ariaLabel;return g.a.createElement(f.a,{value:t,placeholder:Object(b.c)("type_a_number"),saveState:a,disabled:o,isValid:m,isBorderless:i,isReplyType:s,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:r||Object(b.c)("number_is_incorrect"),ariaLabel:l||Object(b.c)("type_a_number")})},n}(a.Component),C=r(20),x=r.n(C),j=r(199);var E=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),r="state",n={value:e.props.value},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props.saveState;return x()({"intercom-boolean-attribute":!0,"intercom-boolean-attribute-saving":"saving"===e,"intercom-boolean-attribute-saved":"saved"===e,"intercom-boolean-attribute-failed":"failed"===e})},n.getClassNamesForOption=function(e){var t=this.state.value;return x()({"intercom-boolean-attribute-option":!0,"intercom-boolean-attribute-option-left":!0===e,"intercom-boolean-attribute-option-right":!1===e,"intercom-boolean-attribute-option-unsubmitted":void 0===t,"intercom-boolean-attribute-option-submitted-chosen":t===e,"intercom-boolean-attribute-option-submitted-not-chosen":void 0!==t&&t!==e})},n.createHandleSubmit=function(e){var t=this,r=this.props.saveState;return"saved"===r||"saving"===r?function(){}:function(){t.props.onSubmit(e)}},n.render=function(){return g.a.createElement("div",null,g.a.createElement("div",{className:this.getClassName()},g.a.createElement("button",{className:this.getClassNamesForOption(!0),onClick:this.createHandleSubmit(!0),tabIndex:"0"},g.a.createElement("span",{className:"intercom-boolean-attribute-text"},Object(b.c)("attribute_collector_positive"))),g.a.createElement("button",{className:this.getClassNamesForOption(!1),onClick:this.createHandleSubmit(!1),tabIndex:"0"},g.a.createElement("span",{className:"intercom-boolean-attribute-text"},Object(b.c)("attribute_collector_negative")))),"failed"===this.props.saveState&&g.a.createElement(j.a,{errorMessage:Object(b.c)("something_is_wrong")}))},r}(a.Component),O=r(448),w=r(447),S=r(1073),k=r(204);function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return N(_(n=a.call.apply(a,[this].concat(t))||this),"handleSubmit",function(e){var t=n.props,r=t.identifier;(0,t.onSubmit)(r,e)}),N(_(n),"handleArraySubmit",function(e){n.handleSubmit(e.text)}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.fitsButtonGroupLayout=function(e){var t=e.length,r=Math.floor(18/t);return t<=4&&e.every(function(e){return e.length<=r})},n.renderAttribute=function(){var e=this.props,t=e.name,r=e.type,n=e.identifier,a=e.value,o=e.options,i=e.saveState,s=e.defaultCountryCode,l=e.isBorderless,c=e.isReplyType,u=a?String(a):void 0;return"email"===n?g.a.createElement(d.a,{value:u,saveState:i,isBorderless:l,isReplyType:c,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"phone"===n?g.a.createElement(S.a,{value:u,key:u,saveState:i,defaultCountryCode:s,isBorderless:l,isReplyType:c,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"string"===r&&Array.isArray(o)?this.renderArrayAttribute(o,u):"string"===r?g.a.createElement(p,{value:u,saveState:i,isBorderless:l,isReplyType:c,onSubmit:this.handleSubmit,ariaLabel:t}):"integer"===r?g.a.createElement(h,{value:u,saveState:i,isBorderless:l,isReplyType:c,onSubmit:this.handleSubmit,ariaLabel:t}):"float"===r?g.a.createElement(y,{value:u,saveState:i,isBorderless:l,isReplyType:c,onSubmit:this.handleSubmit,ariaLabel:t}):"boolean"!==r||"boolean"!=typeof a&&void 0!==a?null:g.a.createElement(E,{value:a,key:JSON.stringify(a),saveState:i,isBorderless:l,isReplyType:c,onSubmit:this.handleSubmit})},n.renderArrayAttribute=function(e,t){var r=this.props,n=r.saveState,a=r.frameWindow,o=t?{id:t,text:t}:null,i=e.map(function(e){return{id:e,text:e}});return this.fitsButtonGroupLayout(e)?g.a.createElement(w.a,{value:o,key:Object(k.a)(JSON.stringify(o)),options:i,saveState:n,onChange:this.handleArraySubmit}):g.a.createElement(O.a,{value:o,options:i,saveState:n,autoFocus:!0,frameWindow:a,onChange:this.handleArraySubmit})},n.render=function(){var e=this.props,t=e.name,r=e.number;return g.a.createElement("div",{className:"intercom-attribute-collector-card-attribute"},g.a.createElement("div",{className:"intercom-attribute-collector-card-label"},void 0!==r?r+". "+t:t),this.renderAttribute())},r}(a.Component),A=r(24),R=r(4),T=r(0),I=r(9),B=Object(T.d)("0%{opacity:0;}70%{opacity:0;}100%{opacity:1;}"),M=Object(T.c)("div",{target:"e17b05a30"})({name:"1qgk0pb",styles:"position:absolute;left:0;bottom:10px;"}),D=Object(T.c)("div",{target:"e17b05a31"})("position:absolute;right:24px;top:26px;color:",Object(T.f)("grey"),";font-size:14px;line-height:20px;"),z=Object(T.c)("div",{target:"e17b05a32"})("position:relative;padding:26px 24px 24px;margin-left:45px;text-align:left;background-color:",Object(T.f)("white"),";border-radius:5px;color:",Object(T.f)("bodyText"),";",I.c),q={name:"o7rt0f",styles:"margin-top:3px;"},L=Object(T.c)("div",{target:"e17b05a33"})("margin-top:8px;margin-bottom:8px;width:100%;position:relative;float:left;",function(e){var t=e.theme;return e.isBorderless&&Object(T.b)("min-height:57px;",z.className,"{box-shadow:",t.notificationBoxShadow,";border-color:",t.white,";}")}," ",function(e){return e.isReplyType&&q}," ",function(e){var t=e.theme,r=e.isReplyType;return t.isMobileBrowser&&r&&Object(T.b)(z.className,"{margin-left:0;}")}," ",function(e){var t=e.isBorderless,r=e.isReplyType;return t&&r&&Object(T.b)("animation:",B," 750ms ease;",z.className,"{padding:0;}.intercom-attribute-collector-card-attribute{margin:0;height:52px;}.intercom-attribute-collector-card-label{display:none;}")});function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){return Object.keys(e).length}function H(t){return Object.keys(t).filter(function(e){return"saved"===t[e]||"failed"===t[e]}).length}var G=function(o){var e,t;function r(){for(var b,e,t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return U(F(b=o.call.apply(o,[this].concat(n))||this),"state",{saveStates:(e=b.props.part,t=e.form,t?t.attributes.reduce(function(e,t){var r,n=t.identifier,a=t.saveState;return Object.assign({},e,((r={})[n]=a,r))},{}):{})}),U(F(b),"node",void 0),U(F(b),"renderAttribute",function(e,t){var r=b.props,n=r.isBorderless,a=r.isReplyType,o=r.defaultCountryCode,i=r.frameWindow,s=r.onAttributeSubmit,l=b.state.saveStates;if(t>H(l))return null;var c,u=e.type,p=e.name,d=e.identifier,h=e.options,m=e.value,f=e.saveState;return 1<W(l)&&(c=""+(t+1)),g.a.createElement(P,{key:d,type:u,name:p,identifier:d,value:m,number:c,options:h,saveState:f,defaultCountryCode:o,isBorderless:n,isReplyType:a,frameWindow:i,onSubmit:s})}),b}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var r=this,e=this.props,n=e.part,a=e.conversationId,o=n.form;o&&o.attributes.forEach(function(e){var t=e.identifier;return"email"===t&&r.props.onEmailAttributeMount(a),Object(R.e)("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:a,part_id:n.id,attribute_identifier:t,attribute_type:Object(A.c)(o,t),form_type:o.type,attribute_is_custom_data:Object(A.k)({identifier:t})})})},n.componentDidUpdate=function(e,t){H(t.saveStates)!==H(this.state.saveStates)&&function(e){if(e){var t=e.closest(".intercom-conversation-body-parts");t&&Object(i.z)(t)}}(this.node)},n.renderAvatar=function(){return g.a.createElement(M,null,g.a.createElement(s.a,{author:this.props.part.author}))},n.renderForm=function(){var e=this.props.part.form;return e?e.attributes.map(this.renderAttribute):null},n.renderPosition=function(){var e=this.state.saveStates,t=W(e);if(1===t)return null;var r=Math.min(t,H(e)+1);return g.a.createElement(D,null,"(",r,"/",t,")")},n.render=function(){var t=this,e=this.props,r=e.isBorderless,n=e.isReplyType;return g.a.createElement(L,{isBorderless:r,isReplyType:n,ref:function(e){return t.node=e}},this.props.hasAvatar?this.renderAvatar():null,g.a.createElement(z,null,this.renderPosition(),this.renderForm()))},r}(a.Component),V=r(15),K=r(26),Y=r(278);t.a=Object(n.connect)(function(e,t){var r=t.part;return{conversationId:e.app.conversationId||e.message.conversationId,partId:r.id,defaultCountryCode:e.user.countryCode||"us"}},function(i){return{onAttributeSubmit:function(e,t,r,n,a,o){i(Object(K.r)(V.a,e,t,r,n,a,o,Object(A.k)({identifier:r})))},onEmailAttributeMount:function(e){i(Object(Y.c)(e))}}},function(r,n,a){return Object.assign({},r,n,a,{onAttributeSubmit:function(e,t){n.onAttributeSubmit(r.conversationId,r.partId,e,t,Object(A.c)(a.part.form,e),a.part.form.type)}})})(G)},1030:function(e,t,r){"use strict";var n=r(117),o=r.n(n),h=r(1),m=r.n(h),i=r(989),s=r(4),f=r(997),l=r(259),a=r(995),b=r(444),g=function(i,s){var l=[],c=0;return function(e){var t=function(e,t){if(!e)return[0,0];var r=e.querySelector("button");if(!r)return[0,0];r.style.display="",r.innerHTML=t;var n=[r.offsetWidth+f.a,r.offsetHeight+f.a];return r.style.display="none",n}(s,e),r=t[0],n=t[1],a=(l.filter(function(e){return e[1]===c})||[]).map(function(e){return e[2]}).reduce(function(e,t){return e+t},0);i<r+a?c+=l[l.length-1][3]||0:l.forEach(function(e){e[1]===c&&(e[0]=e[0]-r)});var o=[0,c,r,n];return l.push(o),{bounds:o}}};function v(e){var t=e.replyOption,r=e.onSelect,n=e.focused,a=e.style;return m.a.createElement(f.f,{label:t.text,value:t,onClick:r,focused:n,type:t.content_type,style:a})}var y=Object(h.forwardRef)(function(e,t){return m.a.createElement(f.e,null,m.a.createElement(f.d,{ref:t},m.a.createElement(f.f,{tabIndex:"-1",style:{display:"none"}})))}),C=r(1055);function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){c(t,e,r[e])})}return t}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=e.suggestions,i=e.onSelect,r=e.onHeightChange,n=Object(h.useRef)(null),a=n.current?n.current.parentNode.offsetWidth:0,o=n.current?t:[],s=g(a,n.current),l=o.map(function(e){return x({},e,s(e.text))}),c=l[l.length-1],u=c?c.bounds[1]+c.bounds[3]:0,p=Object(b.useTransition)(l,function(e){return e.uuid},{from:function(e){return{bounds:e.bounds,opacity:0}},enter:function(e){return{bounds:e.bounds,opacity:1}},update:function(e){return{bounds:e.bounds}},leave:{opacity:0},config:{mass:3,tension:1e3,friction:100},trail:25,immediate:!1});Object(h.useEffect)(function(){u&&r&&(r(u),setTimeout(function(){return r(u)},f.c))},[u,r]),Object(C.a)(0);var d=p[0]&&p[0].item&&!p[0].item.type;return m.a.createElement(f.h,{height:u,isInboundBot:d},m.a.createElement(y,{ref:n}),p.map(function(e){var t=e.item,r=e.props,n=r.bounds,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(r,["bounds"]),o=e.key;return m.a.createElement(v,{key:o,focused:!1,replyOption:t,onSelect:i,style:x({transform:n.to(function(e,t){return"translate3d("+e+"px,"+t+"px,0)"})},a)})}))}var p=r(1010),d=r(885);function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return O});var O=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return E(j(a=n.call.apply(n,[this].concat(t))||this),"metricSend",!1),E(j(a),"previousSuggestions",null),E(j(a),"handleClick",function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=a.props).onClick.apply(e,r),Object(s.e)("clicked","composer_suggestions","messenger","",r),a.context&&a.context.emptyComposer&&a.context.emptyComposer()}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidMount=function(){this.sendMetrics();var e=this.props.conversationSuggestions;(e.suggestions.length||e.prompt.length)&&(this.previousSuggestions=this.props.conversationSuggestions)},a.componentDidUpdate=function(){this.sendMetrics();var e=this.props.conversationSuggestions;e.suggestions.length||e.prompt.length?this.previousSuggestions=e:e.loading||(this.previousSuggestions=null)},a.sendMetrics=function(){var e=this.props.conversationSuggestions;e&&!this.metricSend&&(Object(s.e)("received","composer_suggestions","messenger","",e),this.metricSend=!0)},a.shouldShowSuggestions=function(){var e=this.props,t=e.conversation,r=e.conversationSuggestions;if(!r)return!1;var n=r.suggestions;if(!n.length||"quick_reply"!==n[0].type)return!0;var a=Object(p.b)(t);return o()(a,n)},a.suggestions=function(){if(!this.shouldShowSuggestions())return[];var e=this.props.conversationSuggestions,t=e.suggestions;return e.loading&&this.previousSuggestions&&this.previousSuggestions.suggestions?this.previousSuggestions.suggestions:t},a.prompt=function(){if(!this.shouldShowSuggestions())return[];var e=this.props.conversationSuggestions,t=e.prompt;return e.loading&&this.previousSuggestions&&this.previousSuggestions.prompt?this.previousSuggestions.prompt:t},a.render=function(){var e=this.props,t=e.isBorderless,r=e.conversationSuggestions.loading,n=this.suggestions();return m.a.createElement(f.b,{className:"composer-suggestions-container",isBorderless:t,suggestionsVisible:0<n.length},this.prompt().length?m.a.createElement(f.i,null,m.a.createElement(i.a,{autoPlay:!1,blocks:this.prompt()})):null,m.a.createElement(d.a,null,r&&!this.suggestions().length?m.a.createElement(l.a,{size:"small"}):null),m.a.createElement(f.g,null,m.a.createElement(u,{suggestions:this.suggestions(),onSelect:this.handleClick,onHeightChange:this.props.onHeightChange})))},r}(h.Component);E(O,"contextType",a.a)},1031:function(e,t,r){"use strict";var n=r(14);r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var a=["image/gif","image/jpeg","image/png","image/webp","image/bmp","image/x-icon"],o=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=function(){return t()},r.src=n})},i=function(h){return new Promise(function(p,d){var e,l,t;s(h)&&Object(n.b)()?(e=h,l=function(e){var t,a,o,i,s,r,n,l,c=URL.createObjectURL(h),u=function(e){var t=new Image;t.onload=function(){return p(t)},t.onerror=function(){return d()},t.src=e};e<=1?(r=h,n=u,(l=new FileReader).onload=function(e){n(e.target.result)},l.readAsDataURL(r)):(t=c,a=e,o=h.type,i=u,(s=new Image).src=t,s.onload=function(){var e=s.width,t=s.height,r=document.createElement("canvas"),n=r.getContext("2d");switch(4<a&&a<9?(r.width=t,r.height=e):(r.width=e,r.height=t),a){case 2:n.transform(-1,0,0,1,e,0);break;case 3:n.transform(-1,0,0,-1,e,t);break;case 4:n.transform(1,0,0,-1,0,t);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,t,0);break;case 7:n.transform(0,-1,-1,0,t,e);break;case 8:n.transform(0,-1,1,0,0,e)}n.drawImage(s,0,0),i(r.toDataURL(o))})},(t=new FileReader).onload=function(e){var t=new DataView(e.target.result);if(65496!==t.getUint16(0,!1))return l(-2);for(var r=t.byteLength,n=2;n<r;){var a=t.getUint16(n,!1);if(n+=2,65505===a){if(1165519206!==t.getUint32(n+=2,!1))return l(-1);var o=18761===t.getUint16(n+=6,!1);n+=t.getUint32(n+4,o);var i=t.getUint16(n,o);n+=2;for(var s=0;s<i;s++)if(274===t.getUint16(n+12*s,o))return l(t.getUint16(n+12*s+8,o))}else{if(65280!=(65280&a))break;n+=t.getUint16(n,!1)}}return l(-1)},t.readAsArrayBuffer(e.slice(0,65536))):p()})},s=function(e){return-1!==a.indexOf(e.type.toLowerCase())}},1032:function(e,t,r){"use strict";var n=r(1),o=r.n(n),i=r(1051),s=r(19),a=r(0),l={name:"1mbidny",styles:"margin:8px 0px 0px 42px;width:81%;"},c=Object(a.c)("button",{target:"egek4pu0"})("svg{path{fill:",Object(a.f)("buttonBackgroundColor"),";}}padding:10px;border:1px solid ",Object(a.f)("buttonBackgroundColor"),";border-radius:40px;margin:20px;width:240px;text-align:center;font-size:14px;color:",Object(a.f)("buttonBackgroundColor"),";background-color:",Object(a.f)("buttonTextColor"),";.intercom-reply-message-icon{position:relative;top:2px;right:8px;}",function(e){return e.isBorderless&&l});function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return d});var d=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return p(u(t=a.call.apply(a,[this].concat(r))||this),"ref",void 0),p(u(t),"setReplyToButtonRef",function(e){t.ref=e}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props.onShow;if(this.ref&&e){e(this.ref.clientHeight+10)}},n.render=function(){var e=this.props,t=e.onClick,r=e.isBorderless;return o.a.createElement(c,{ref:this.setReplyToButtonRef,onClick:t,isBorderless:r},o.a.createElement(i.a,{className:"intercom-reply-message-icon"}),Object(s.c)("reply_to_conversation").replace("…",""))},r}(n.PureComponent)},1033:function(e,t,r){"use strict";var n=r(1),o=r.n(n),a=r(263),i=r.n(a),s=r(255),l=r(0),c=r(1048),u=Object(l.c)("div",{target:"ee6m5h00"})("font-size:",96,"px;line-height:",96,"px;margin-top:",12,"px;",c.b.className,"{font-size:",38,"px;line-height:",38,"px;margin-top:",4.75,"px;margin-bottom:",4.75,"px;}",c.a.className,"{font-size:",45,"px;line-height:",45,"px;margin-top:",45/8,"px;margin-bottom:",45/8,"px;}"),p=Object(l.c)("img",{target:"ee6m5h01"})("width:",96,"px;height:",96,"px;min-width:",96,"px;min-height:",96,"px;",c.b.className,"{width:",38,"px;height:",38,"px;min-width:",38,"px;min-height:",38,"px;}",c.a.className,"{width:",45,"px;height:",45,"px;min-width:",45,"px;min-height:",45,"px;}");r.d(t,"a",function(){return f});var d,h,m,f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.render=function(){var e=this.props.text,t=Object(s.e)(i()(e).replace("&nbsp;","").trim());return this.useNativeEmoji()?this.renderNative(t):this.renderImage(t)},a.renderNative=function(e){return o.a.createElement(u,{role:"img","aria-label":Object(s.b)(this.props.text)||e},e)},a.renderImage=function(e){var t="https://js.intercomcdn.com/images/stickers/"+Object(s.a)(e,16)+".png";return o.a.createElement(p,{src:t,alt:e,"aria-label":Object(s.b)(this.props.text)})},a.useNativeEmoji=function(){var e=this.props.emoji;return"native"===e||"image"!==e&&("auto"===e?Object(s.c)():void 0)},n}(n.Component);m={emoji:"auto"},(h="defaultProps")in(d=f)?Object.defineProperty(d,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[h]=m},1047:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),a=Object(n.c)("div",{target:"ec1npt30"})({name:"1tu59u4",styles:"flex:0 0 auto;"})},1048:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r(0),a=Object(n.c)("div",{target:"epk4fbi0"})(),o=Object(n.c)("div",{target:"epk4fbi1"})()},1049:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(1),h=r.n(n),m=r(433),f=r(1025),b=r(19);var a,o,i,s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.saveState,n=e.isBorderless,a=e.isReplyType,o=e.isNotificationChannel,i=e.isSubmittable,s=e.placeholder,l=e.disabled,c=e.errorMessage,u=e.hideErrorMessage,p=e.onSubmit,d=e.onChange;return h.a.createElement(m.a,{value:t,placeholder:s,saveState:r,disabled:l,isValid:f.a,isBorderless:n,isReplyType:a,isSubmittable:i,isNotificationChannel:o,onSubmit:p,onChange:d,hideErrorMessage:u,ariaLabel:"Enter your email",type:"email",validationErrorMessage:c||Object(b.c)("that_email_address_doesnt_look_quite_right")})},n}(n.Component);i={placeholder:"email@domain.com",isSubmittable:!0,hideErrorMessage:!(o="defaultProps")},o in(a=s)?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i},1050:function(e,t,r){"use strict";var n=r(1),a=r.n(n);t.a=function(){return a.a.createElement("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 29 18"},a.a.createElement("g",{fillRule:"evenodd"},a.a.createElement("path",{d:"M9 1a8 8 0 1 0 0 16h11a8 8 0 1 0 0-16H9zm0-1h11a9 9 0 0 1 0 18H9A9 9 0 0 1 9 0z",fillRule:"nonzero"}),a.a.createElement("path",{d:"M6.561 9.337c0-2.277 1.683-3.795 3.773-3.795 1.298 0 2.2.572 2.849 1.375l-.726.451c-.462-.594-1.243-1.012-2.123-1.012-1.606 0-2.827 1.232-2.827 2.981 0 1.738 1.221 2.992 2.827 2.992.88 0 1.606-.429 1.969-.792v-1.496H9.784v-.814h3.432v2.651a3.822 3.822 0 0 1-2.882 1.265c-2.09 0-3.773-1.529-3.773-3.806zM14.701 13V5.663h.913V13h-.913zm2.629 0V5.663h4.807v.814h-3.894v2.365h3.817v.814h-3.817V13h-.913z"})))}},1051:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1),a=r.n(n);function o(e){return a.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:e.className,width:"16px",height:"12px",viewBox:"0 0 16 12"},a.a.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},a.a.createElement("g",{transform:"translate(-257.000000, -529.000000)"},a.a.createElement("g",{transform:"translate(100.000000, 187.000000)"},a.a.createElement("g",{transform:"translate(94.000000, 0.000000)"},a.a.createElement("g",{transform:"translate(16.000000, 169.000000)"},a.a.createElement("g",{transform:"translate(24.000000, 159.000000)"},a.a.createElement("g",{transform:"translate(23.000000, 14.000000)"},a.a.createElement("path",{d:"M10.8401488,6.224907 L15.6817765,11.0665347 C15.51005,11.3499528 15.2722574,11.5748794 14.9768457,11.7328673 C14.6509198,11.9071744 14.3276335,12 13.4361148,12 L2.5638852,12 C1.67236646,12 1.34908022,11.9071744 1.0231543,11.7328673 C0.72877254,11.5754302 0.491608869,11.3515205 0.320022148,11.069497 L5.16278101,6.22673813 L7.26933188,7.54333242 C7.55321179,7.72075737 7.66665987,7.76662232 7.80054357,7.79679663 C7.93442727,7.82697094 8.06557273,7.82697094 8.19945643,7.79679663 C8.33334013,7.76662232 8.44678821,7.72075737 8.73066812,7.54333242 L10.8401488,6.224907 Z M11.7104341,5.6809787 L15.6940002,3.19124987 C15.7876675,3.1327078 15.9110576,3.16118243 15.9695997,3.25484974 C15.9894661,3.28663606 16,3.32336558 16,3.36084953 L16,9.4361148 C16,9.63606843 15.9953306,9.80743801 15.9861196,9.95666428 L11.7104341,5.6809787 Z M4.29249574,5.68280984 L0.0141588143,9.96114676 C0.0047635636,9.81087199 2.47328067e-17,9.63807348 0,9.4361148 L1.24567172e-16,3.36084953 C1.11040097e-16,3.25039258 0.08954305,3.16084953 0.2,3.16084953 C0.237483943,3.16084953 0.274213468,3.17138342 0.305999788,3.19124987 L4.29249574,5.68280984 Z M1,-2.48689958e-14 L15,-2.48689958e-14 C15.5522847,-2.49704488e-14 16,0.44771525 16,1 L16,1.8763932 C16,1.95214761 15.9571995,2.02140024 15.8894427,2.05527864 L8.4472136,5.7763932 C8.1656861,5.91715695 7.8343139,5.91715695 7.5527864,5.7763932 L0.110557281,2.05527864 C0.0428004752,2.02140024 3.97855298e-16,1.95214761 3.88578059e-16,1.8763932 L0,1 C-6.76353751e-17,0.44771525 0.44771525,-2.47675427e-14 1,-2.48689958e-14 Z"})))))))))}},1052:function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"b",function(){return d}),r.d(t,"g",function(){return h}),r.d(t,"d",function(){return m}),r.d(t,"e",function(){return b}),r.d(t,"f",function(){return C}),r.d(t,"c",function(){return x});var a=r(0),n=r(275),o=r(9),i="rgba(0, 0, 0, 0.08)",s=Object(a.d)("0%{opacity:0;transform:translateY(20px);}100%{opacity:1;transform:translateY(0);position:initial;}"),l=Object(a.d)("0%{opacity:0;transform:translateY(-20px);}100%{opacity:1;transform:translateY(0);}"),c=Object(a.d)("0%{opacity:0;transform:translateX(-20px);}100%{opacity:1;transform:translateY(0);}"),u=Object(a.d)("0%{opacity:0;transform:translateX(20px);}100%{opacity:1;transform:translateY(0);}"),p=Object(a.c)(n.a,{target:"e1rbdy0f0"})({name:"1cs7hh",styles:"height:38px;width:38px;pointer-events:none;"}),d=Object(a.c)("div",{target:"e1rbdy0f1"})({name:"c8ift8",styles:"position:absolute;pointer-events:none;[x-placement^='top'] &{bottom:-9px;transform:translateY(20px);}[x-placement^='right'] &{transform:translateX(-20px);}[x-placement^='bottom'] &{transform:translateY(-20px);}[x-placement^='left'] &{right:-9px;transform:translateX(20px);}"}),h=Object(a.c)("div",{target:"e1rbdy0f2"})("transition:opacity 0.6s ease;z-index:",Object(o.j)(1),";visibility:visible !important;"),m=Object(a.c)("div",{target:"e1rbdy0f3"})("animation:",s," 800ms ease;[x-placement^='top'] &{animation:",l," 800ms ease;}[x-placement^='right'] &{animation:",u," 800ms ease;}[x-placement^='bottom'] &{animation:",s," 800ms ease;}[x-placement^='left'] &{animation:",c," 800ms ease;}"),f={name:"11j8jdr",styles:"box-shadow:-1px 1px 0px #eeeeee;margin-left:25px;"},b=Object(a.c)("div",{target:"e1rbdy0f4"})("width:13px;height:25px;position:relative;overflow:hidden;&:after{content:'';position:absolute;width:20px;height:20px;background:#ffffff;transform:rotate(45deg);top:2px;}&[x-placement^='top']{height:13px;width:25px;&:after{top:-12px;left:2px;box-shadow:1px 1px 1px 0 ",i,";}}&[x-placement^='right']{height:25px;width:13px;&:after{right:-12.5px;box-shadow:1px -1px 1px 2px ",i,";}}&[x-placement^='bottom']{height:13px;width:25px;&:after{top:4.5px;left:2px;box-shadow:-1px -1px 1px 0 ",i,";}}&[x-placement^='left']{height:25px;width:13px;&:after{left:-12.5px;box-shadow:-1px 1px 1px 2px ",i,";}}",function(e){return e.isInsideInbox&&f}),g={name:"41q668",styles:"transform:scale(1);"},v=function(e,t){return Object(a.d)("0%{",g,"}85%{",(r=e,n=t,Object(a.b)("transform:scaleX(calc(1 + (4 / ",r,"))) scaleY(calc(1 + (4 / ",n,")));")),"}100%{",g,"}");var r,n},y={name:"1qu4hyo",styles:"display:block;position:fixed;top:50%;left:50%;box-shadow:0px 0px 0px 4000px rgba(0,0,0,0.35);"},C=Object(a.c)("div",{target:"e1rbdy0f5"})("z-index:",Object(o.j)(),";content:'';display:none;position:absolute;left:0;top:0;width:0;height:0;pointer-events:none;border-radius:1px;",function(e){var t=e.isAnimating,r=e.width,n=e.height;return t&&Object(a.b)("animation:",v(r,n)," 2s infinite;")}," ",function(e){return e.isPost&&y}," ",function(e){var t=e.isStep,r=e.theme;return t&&Object(a.b)("display:block;box-shadow:0 0 0 3px ",r.appColor,",0px 0px 0px 4000px rgba(0,0,0,0.35);")}),x=Object(a.c)("div",{target:"e1rbdy0f6"})(function(e){var t=e.scrollable,r=e.theme;return t&&Object(a.b)("position:fixed;height:100%;width:100%;top:0;left:0;opacity:0;box-sizing:border-box;z-index:",Object(o.j)(0,r),";")})},1053:function(e,t,r){"use strict";r.d(t,"a",function(){return x});var n=r(1),p=r.n(n),d=r(1002),h=r(996),m=r(992),f=r(989),o=r(1003),a=r(20),i=r.n(a),b=r(19),s=r(1032),l=r(4),c=r(995),g=r(1019),u=r(283);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return C(y(n=a.call.apply(a,[this].concat(t))||this),"state",{isScrolled:!1}),C(y(n),"handleScroll",function(e){return n.setState({isScrolled:0<e.target.scrollTop})}),C(y(n),"addClickedComposerMetric",function(){var e=n.props,t=e.message.id,r=e.conversationId;Object(l.e)("clicked","composer","in_app","from_full",{message_type:"post",message_id:t,conversation_id:r})}),C(y(n),"handleComposerClick",function(e){return function(){n.addClickedComposerMetric(),n.props.onComposerClick(),e(void 0,{shouldReturnFocus:!1}),n.context&&n.context.focusComposer&&setTimeout(function(){return n.context.focusComposer()},d.a)}}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){return i()({"intercom-post":!0,"intercom-post-scrolled":this.state.isScrolled})},n.getFooterClassNames=function(){var e=this.props,t=e.showReplyToButton,r=e.isUpfrontEmailComposerShowing;return i()({"intercom-post-footer":!0,"intercom-post-footer-text-center":t||r})},n.renderFooter=function(t){var r=this,e=this.props,n=e.showReplyToButton,a=e.isUpfrontEmailComposerShowing;return n||a?p.a.createElement(s.a,{onClick:this.handleComposerClick(t)}):p.a.createElement("div",{className:"intercom-post-composer",onClick:r.handleComposerClick(t),"aria-label":Object(b.c)("open_conversation_and_reply"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.handleComposerClick(t)(e)},role:"button",tabIndex:"0"},p.a.createElement(u.f,null,Object(b.c)("reply_to_conversation")))},n.renderReactionPicker=function(){var e=this.props,t=e.reactionsReply,r=e.onReactionSelect;return p.a.createElement(o.a,v({},t,{onReactionSelect:r}))},n.render=function(){var r=this,e=this.props,n=e.appName,t=e.message,a=e.reactionsReply,o=e.onClose,i=e.frameWindow,s=e.returnFocus,l=t.author,c=t.lastActiveAt,u=t.body;return p.a.createElement(d.b,{closeCallback:o,showCloseOverlay:!1,frameWindow:i,returnFocus:s},function(e){var t=e.onClose;return p.a.createElement("div",{className:"intercom-post-container"},p.a.createElement(g.a,{className:r.getClassNames()},p.a.createElement(m.b,{appName:n,isReplyStyle:!1,author:l,lastActiveAt:c},p.a.createElement("span",{className:"intercom-post-close intercom-anchor",onClick:t,"aria-label":Object(b.c)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t(e)},role:"button",tabIndex:"0"}),p.a.createElement(h.a,{isInsideModal:!0,onScroll:r.handleScroll},p.a.createElement(f.a,{blocks:u,frameWindow:i})),p.a.createElement("div",{className:r.getFooterClassNames()},a?r.renderReactionPicker():r.renderFooter(t)))))})},r}(n.Component);C(x,"contextType",c.a)},1054:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),o=r.n(n),i=r(444);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return l(s(e=a.call.apply(a,[this].concat(r))||this),"node",void 0),l(s(e),"handleOnClick",function(){e.props.onClick&&e.props.onClick(e.props.value)}),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.props.focused&&this.node&&this.node.focus()},n.render=function(){var t=this;return o.a.createElement(i.animated.button,{onClick:this.handleOnClick,value:this.props.value,style:this.props.style,className:this.props.className,ref:function(e){return t.node=e}},this.props.label)},r}(n.Component);l(a,"defaultProps",{value:"",label:"",className:""})},1055:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o=r(1);function n(e){var t=Object(o.useRef)(null),r=Object(o.useState)(!1),n=r[0],a=r[1];return Object(o.useEffect)(function(){return t.current=setTimeout(function(){return a(!0)},e),function(){return clearTimeout(t.current)}},[e]),n}},1056:function(e,t,r){"use strict";r.d(t,"b",function(){return p}),r.d(t,"a",function(){return f});var n=r(0),a=r(9),o=r(181),i=r(191),s=r(1123),l=r.n(s),c=r(1124),u=r.n(c),p="200ms",d={name:"y8aj3r",styles:"padding:0;"},h={name:"4cxybv",styles:"padding-bottom:8px;"},m={name:"lb05wl",styles:"&.intercom-conversation-part-enter{transform:translateY(0);}"},f=Object(n.c)("div",{target:"e1iwlnx70"})(a.g," padding-bottom:16px;",function(e){return e.isAdmin&&Object(n.b)("&.intercom-conversation-part-enter{opacity:0;}&.intercom-conversation-part-enter.intercom-conversation-part-enter-active{opacity:1;transition:opacity ",p,";}",i.b.className,"{padding-left:45px;}")}," ",function(e){var t=e.isSelf,r=e.conversationHasScrolled;return t&&Object(n.b)("&.intercom-conversation-part-enter{opacity:0;transform:translateY(40px);}&.intercom-conversation-part-enter.intercom-conversation-part-enter-active{opacity:1;transform:translateY(0);transition:opacity ",p,",transform ",p,";}",r&&m," ",i.b.className,"{float:right;}",i.c.className,"{float:right;}")}," ",function(e){var t=e.isAdmin,r=e.isSelf;return!t&&!r&&Object(n.b)(i.b.className,"{padding-left:45px;}")}," ",function(e){return e.grouped&&h}," ",function(e){var t=e.isLastPart,r=e.isBorderless;return t&&Object(n.b)("padding-bottom:24px;",r&&d)}," ",function(e){var t=e.theme;return e.isFailedPart&&Object(n.b)("*{cursor:pointer;}",i.b.className,"{",Object(a.b)(l.a,u.a,"11px","11px")," padding-left:15px;background-position:left 7px;background-repeat:no-repeat;color:",t.errorText,";width:auto;}")}," ",function(e){var t=e.isAdmin,r=e.isBorderless;return t&&r&&Object(n.b)(o.e.className," ",i.b.className,"{padding:5px 20px;}")})},1057:function(e,t,r){"use strict";r.d(t,"j",function(){return l}),r.d(t,"i",function(){return c}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return p}),r.d(t,"h",function(){return h}),r.d(t,"e",function(){return f}),r.d(t,"f",function(){return b}),r.d(t,"g",function(){return g}),r.d(t,"c",function(){return v}),r.d(t,"d",function(){return y});var o=r(993),i=r(418),n=r(19),s=r(34),a=["january","february","march","april","may","june","july","august","september","october","november","december"],l=function(t){return"link"===t[0].messageType?!t.slice(1).every(function(e){return Object(o.c)(e.createdAt,t[0].sentAt)}):!1!==t[0].showCreatedAt&&!t.every(function(e){return Object(o.c)(e.createdAt,t[0].createdAt)})},c=function(e,t){return e&&!Object(o.c)(t.createdAt,e.sentAt||e.createdAt)},u=function(e){return Object(n.c)(a[e.getMonth()]+"_date",{date:e.getDate()})},p=function(t,e){return e.find(function(e){return e.author.isAdmin&&e.author.id===t.id&&e.createdAt>=t.lastActiveAt-5e3})},d=function(e,t){var r;return!p(e,t)&&(r=e.lastActiveAt,new Date-r<1e4)},h=function(e){var t=e.parts,r=e.lastTypingAdmin;return!!r&&d(r,t)},m=function(e,t){return e.id===t.id&&e.isAdmin===t.isAdmin||!0===e.isSelf&&!0===t.isSelf||!0===e.isBot&&!0===t.isBot},f=function(e,t){return!!t&&Object(o.c)(e.createdAt,t.createdAt)&&m(e.author,t.author)&&(n=e.partType,a=t.partType,!Object(i.a)(n)&&!Object(i.a)(a))&&(r=e.createdAt,t.createdAt-r<=18e4);var r,n,a},b=function(e,t,r,n,a){return!e.author.isSelf&&"video"!==e.messageType&&(r?!!t?!m(e.author,t.author):!(n&&e.author.id===a.id):!f(e,t))},g=function(e,t,r){var n=e.author.isAdmin,a=0<t.length&&Object(s.a)(t).id===e.id,o="comment"===e.partType||"message"===e.partType||"attribute_collector"===e.partType,i="failed"===e.saveState||"saving"===e.saveState;return(a||i)&&!(n&&r)&&o},v=function(e){return e.clientId||e.id},y=function(e){return"quick_reply"===e.partType&&(!e.body||0===e.body.length)}},1058:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return l}),r.d(t,"c",function(){return c});var n=r(0),a=r(1056),o=Object(n.c)("div",{target:"e1h2hbch0"})({name:"1wh90nt",styles:"display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;justify-content:space-between;overflow-anchor:none;height:auto;"}),i={name:"1w5zg6j",styles:"opacity:0.2;"},s={name:"3dmdqb",styles:"transition:none;"},l=Object(n.c)("div",{target:"e1h2hbch1"})("padding:24px 24px 0;display:flex;flex-flow:row wrap;transition:transform ",a.b,";overflow-anchor:none;> *{flex:1 100%;max-width:100%;}",function(e){return e.isScrolling&&s}," ",function(e){var t=e.isBorderless,r=e.isFaded;return t&&Object(n.b)("padding:0;",r&&i)}),c=Object(n.c)("div",{target:"e1h2hbch2"})("text-align:center;color:",Object(n.f)("metaText"),";font-size:13px;clear:both;padding-top:14px;padding-bottom:14px;&:first-child{padding-top:0px;}")},1063:function(e,t,r){"use strict";var n=r(7),a=r.n(n),o=r(1),C=r.n(o),x=r(81),i=r(28),s=r(20),l=r.n(s),c=r(1053),u=r(992),p=r(989),d=r(4),h=r(1020);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(m(e=a.call.apply(a,[this].concat(r))||this),"state",{isTruncated:!1}),f(m(e),"node",void 0),f(m(e),"handleClick",function(){Object(d.e)("viewed","post","messenger","from_card",{conversation_id:e.props.conversationId}),e.props.onOpen(e.props.conversationId,e.props.part.id)}),f(m(e),"handleClose",function(){e.props.onClose()}),f(m(e),"handleComposerClick",function(){e.handleClose()}),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleResize()},n.handleResize=function(){var e=this.node;if(e){var t=e.scrollHeight,r=e.clientHeight;this.setState({isTruncated:r<t})}},n.getClassNames=function(){return l()({"intercom-post-card":!0,"intercom-post-card-truncated":this.state.isTruncated})},n.renderPost=function(){var e=this.props,t=e.part,r=e.appName,n=e.reactionsReply,a=e.onReactionSelect,o=e.frameWindow,i=e.isUpfrontEmailComposerShowing;return C.a.createElement(c.a,{message:t,appName:r,reactionsReply:n,onReactionSelect:a,onComposerClick:this.handleComposerClick,onClose:this.handleClose,frameWindow:o,isUpfrontEmailComposerShowing:i,returnFocus:this.node&&this.node.focus.bind(this.node)})},n.render=function(){var t=this,e=this.props,r=e.part,n=e.appName,a=e.frameWindow,o=e.isOpen,i=r.author,s=r.body;return C.a.createElement(h.a,{className:this.getClassNames(),onClick:this.handleClick,ref:function(e){return t.node=e}},C.a.createElement(u.b,{appName:n,author:i},C.a.createElement("div",{className:"intercom-post-card-body"},C.a.createElement(p.a,{blocks:s,frameWindow:a}))),o?this.renderPost():null)},r}(o.Component),g=r(256),v=Object(i.connect)(function(e){return{isOpen:!!e.message.conversationId&&!!e.message.partId,isUpfrontEmailComposerShowing:e.app.upfrontEmailCollection.upfrontEmailCollectorShowing}},function(r){return{onOpen:function(e,t){r(Object(g.b)(e,t))},onClose:function(){r(Object(g.a)())}}},function(e,r,t){return Object.assign({},e,r,t,{onOpen:function(e,t){r.onOpen(e,t)},onClose:function(){r.onClose()}})})(b),y=r(1018);var j=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.appName,r=e.part,n=e.frameWindow,a=r.author,o=r.body;return C.a.createElement(y.b,{className:"intercom-note-card"},C.a.createElement(u.b,{appName:t,isReplyStyle:!1,author:a},C.a.createElement(y.a,null,C.a.createElement(p.a,{blocks:o,zoomable:!0,frameWindow:n}))))},n}(o.Component),E=r(1069),O=r(1005),w=r(1002),S=r(996),k=r(991),_=r(1003),N=r(19),P=r(993),A=r(1022);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return I(T(a=n.call.apply(n,[this].concat(t))||this),"state",{isScrolled:!1}),I(T(a),"handleScroll",function(e){return a.setState({isScrolled:0<e.target.scrollTop})}),I(T(a),"onClose",function(){var e=a.props,t=e.article,r=e.conversationId,n=e.onClose;Object(d.e)("closed","article","in_app","from_close_button",{owner:"educate",article_id:t&&t.id,conversation_id:r},"educate_event"),n()}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.getClassNames=function(){return l()({"intercom-post":!0,"intercom-article":!0,"intercom-post-scrolled":this.state.isScrolled})},a.renderReactionPicker=function(){var e=this.props,t=e.article.reactionsReply,r=e.onReactionSelect;return C.a.createElement(_.a,R({},t,{prompt:Object(N.c)("article_question"),onReactionSelect:r}))},a.render=function(){var r=this,e=this.props,n=e.article,a=e.frameWindow,t=e.returnFocus;if(!n||!n.id)return null;var o=n.author,i=Date.parse(n.updatedAt);return C.a.createElement(w.b,{closeCallback:this.onClose,showCloseOverlay:!1,frameWindow:a,returnFocus:t},function(e){var t=e.onClose;return C.a.createElement("div",{className:"intercom-post-container"},C.a.createElement(A.a,{className:r.getClassNames()},C.a.createElement("span",{className:"intercom-post-close intercom-anchor",onClick:t,"aria-label":Object(N.c)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t(e)},role:"button",tabIndex:"0"}," "),C.a.createElement(S.a,{isInsideModal:!0,onScroll:r.handleScroll},C.a.createElement("div",{className:"intercom-article-content"},C.a.createElement("h1",{className:"intercom-article-title"},n.title),C.a.createElement("div",{className:"intercom-article-description"},n.description),C.a.createElement("div",{className:"intercom-authored-container"},C.a.createElement("div",{className:"intercom-authored-container-avatar"},o&&C.a.createElement(k.a,{author:o})),C.a.createElement(O.e,null,C.a.createElement(O.d,{className:"test-author-summary-name-from"},C.a.createElement(O.b,{className:"test-author-summary-from-clause"},Object(N.c)("written_by")+" "),C.a.createElement(O.c,{className:"test-author-summary-name"},o.name)),C.a.createElement("div",null,C.a.createElement(O.b,{className:"test-author-summary-from-clause"},Object(P.e)(i))))),C.a.createElement(p.a,{blocks:n.blocks,frameWindow:a}))),C.a.createElement("div",{className:"intercom-post-footer"},n.reactionsReply?r.renderReactionPicker():null)))})},r}(o.Component);B.propTypes={appName:a.a.string.isRequired,article:a.a.object.isRequired,onClose:a.a.func.isRequired,returnFocus:a.a.func,onReactionSelect:a.a.func.isRequired,conversationId:a.a.string.isRequired,frameWindow:a.a.object};var M=r(15),D=r(1026),z=Object.assign,q=Object(i.connect)(function(e){var t=e.article,r=e.app;return{appName:r.name,article:t,conversationId:r.conversationId}},function(n){return{onClose:function(){n(Object(D.a)(M.a))},onReactionSelect:function(e,t,r){n(Object(D.b)(M.a,e,r,t))}}},function(e,t,r){var n=z({},e,t,r),a=n.article,o=n.onReactionSelect,i=a&&a.id,s=a&&a.contentId;return z(n,{onReactionSelect:o.bind(null,i,s)})})(B),L=function(){return C.a.createElement("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},C.a.createElement("g",{strokeWidth:"1",fillRule:"evenodd"},C.a.createElement("g",{fillRule:"nonzero"},C.a.createElement("g",null,C.a.createElement("path",{d:"M1,14 L1,4 L8.11538462,4 C8.39152699,4 8.61538462,3.77614237 8.61538462,3.5 C8.61538462,3.22385763 8.39152699,3 8.11538462,3 L0.5,3 C0.223857625,3 0,3.22385763 0,3.5 L0,14.5 C0,14.7761424 0.223857625,15 0.5,15 L11.5,15 C11.7761424,15 12,14.7761424 12,14.5 L12,7.73076923 C12,7.45462686 11.7761424,7.23076923 11.5,7.23076923 C11.2238576,7.23076923 11,7.45462686 11,7.73076923 L11,14 L1,14 Z"}),C.a.createElement("path",{d:"M5.35355339,10.3535534 L12.8535534,2.85355339 C13.0488155,2.65829124 13.0488155,2.34170876 12.8535534,2.14644661 C12.6582912,1.95118446 12.3417088,1.95118446 12.1464466,2.14644661 L4.64644661,9.64644661 C4.45118446,9.84170876 4.45118446,10.1582912 4.64644661,10.3535534 C4.84170876,10.5488155 5.15829124,10.5488155 5.35355339,10.3535534 Z"}),C.a.createElement("path",{d:"M14,5.5 C14,5.77614237 14.2238576,6 14.5,6 C14.7761424,6 15,5.77614237 15,5.5 L15,0.5 C15,0.223857625 14.7761424,9.43689571e-16 14.5,8.8817842e-16 L9.5,0 C9.22385763,-4.90527396e-17 9,0.223857625 9,0.5 C9,0.776142375 9.22385763,1 9.5,1 L14,1 L14,5.5 Z"})))))},F=r(880),U=r(58);function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return W(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=a.call.apply(a,[this].concat(t))||this),"createHandleClick",function(r){return function(e){var t=e.ctrlKey||e.shiftKey||e.metaKey;!r.articleId||r.url&&t||(e.preventDefault(),n.props.onArticleCardClick(r.articleId,{comment_id:n.props.part.id,url:r.url}).catch(function(){return Object(F.b)(r.url)}))}}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){return l()({"intercom-link-card-container":!this.props.isBorderless&&!this.props.isInline,"intercom-block intercom-block-link":this.props.isInline,"intercom-link-card-container-borderless":this.props.isBorderless,"intercom-link-card-container-message":this.props.part.isMessage})},n.getLinkCardClassNames=function(){var e=(this.context||{}).isPrimaryColorLight;return l()({"intercom-link-card-grouped":1!==this.props.part.body.length,"intercom-link-card":!0,"intercom-link-card-light":e})},n.getAvatarClassName=function(){var e=this.props.isBorderless;return l()({"intercom-link-card-avatar":!e,"intercom-borderless-card-avatar intercom-borderless-link-card-avatar":e})},n.renderAdminAvatar=function(){return C.a.createElement("div",{className:this.getAvatarClassName()},C.a.createElement(k.a,{author:this.props.part.author}))},n.buildAuthor=function(e){return{avatar:{square128:e.avatar},name:e.name,firstName:e.firstName||e.name}},n.renderAuthor=function(e){return C.a.createElement("div",{className:"intercom-link-card-author"},C.a.createElement("div",{className:"intercom-link-card-author-avatar"},C.a.createElement(k.a,{author:e,size:this.props.part.isMessage?24:16})),C.a.createElement("div",{className:"intercom-link-card-author-summary"},Object(N.c)("written_by")+" ",C.a.createElement("span",{className:"intercom-link-card-author-name"},e.name)))},n.renderAskedAbout=function(){return C.a.createElement("div",{className:"intercom-link-card-asked-about"},Object(N.c)("asked_about"))},n.renderLinkCardTitle=function(e){return C.a.createElement("div",{type:e.linkType,className:"intercom-link-card-title"},"educate.help_center"===e.linkType?C.a.createElement("span",{className:"intercom-link-card-title-link-icon"},C.a.createElement(L,null),e.title):e.title)},n.renderLinkCardFooter=function(e){return C.a.createElement("div",{className:"intercom-link-card-footer"},e.description?C.a.createElement("div",{className:"intercom-link-card-description"},e.description):null,e.author&&e.author.name?this.renderAuthor(this.buildAuthor(e.author)):null)},n.renderLinkCards=function(){var r=this,e=this.props.part.body,n=1===e.length;return e.map(function(e,t){return C.a.createElement("a",{href:e.url,onClick:r.createHandleClick(e),key:t.toString(),className:r.getLinkCardClassNames(),target:"_blank",rel:"nofollow noreferrer noopener",ref:function(e){return r.linkRef=e},tabIndex:"0"},C.a.createElement("div",{className:"intercom-link-card-content-container"},r.renderLinkCardTitle(e),n?r.renderLinkCardFooter(e):null),r.props.openArticleId===e.articleId?C.a.createElement(q,{returnFocus:r.linkRef&&r.linkRef.focus.bind(r.linkRef)}):null)})},n.render=function(){return C.a.createElement("div",{className:this.getClassNames()},!this.props.part.isMessage&&this.props.hasAvatar?this.renderAdminAvatar():null,this.props.part.isMessage?this.renderAskedAbout():null,C.a.createElement("div",{className:"intercom-link-card-inner-container"},this.renderLinkCards()))},r}(o.Component);W(H,"contextType",U.a),H.defaultProps={isInline:!1,hasAvatar:!0,isBorderless:!1},H.propTypes={openArticleId:a.a.string,part:a.a.shape({id:a.a.string,isMessage:a.a.bool,author:a.a.object.isRequired,body:a.a.array.isRequired}).isRequired,hasAvatar:a.a.bool,isBorderless:a.a.bool,isInline:a.a.bool,onArticleCardClick:a.a.func.isRequired};var G=Object(i.connect)(function(e){return{openArticleId:e.article.id}})(H),V=r(117),K=r.n(V),Y=r(1009),X=r(16),J=r(14),Z=r(65),$=r(0),Q=r(9),ee=r(1109),te=r.n(ee),re=r(1110),ne=r.n(re),ae=r(1111),oe=r.n(ae),ie=r(1112),se=r.n(ie),le={name:"15z6b27",styles:"margin-top:0;margin-bottom:5px;"},ce={name:"1ab756r",styles:"margin-top:5px;margin-bottom:0;"},ue=Object($.c)("div",{target:"eoh7gg00"})("margin:30px 0 30px 0;padding:16px 20px 20px;color:",Object($.f)("black"),";position:relative;border-radius:5px;text-align:left;background-color:",Object($.f)("white"),";",function(e){var t=e.isBorderless,r=e.lastPart;return t&&r&&ce}," ",function(e){var t=e.isBorderless,r=e.nextPartByAdmin;return t&&r&&le}," ",function(e){return e.isSuccessful&&Object($.b)(Se.className,"{position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;}",_e.className,"{position:static;opacity:1;visibility:visible;max-height:48px;}")}),pe=Object($.c)("div",{target:"eoh7gg01"})({name:"gs1lf3",styles:"position:relative;margin-bottom:5px;"}),de={name:"y13y9u",styles:".intercom-notification-channels{margin-left:45px;}.intercom-notification-channels-option{margin-right:9px;}"},he=Object($.c)("div",{target:"eoh7gg02"})("width:100%;position:relative;float:left;.intercom-notification-channels{margin-top:6px;margin-bottom:0;margin-left:45px;}.intercom-notification-channels-option{margin-right:19px;}",function(e){return e.isBorderless&&de}),me=Object($.c)("div",{target:"eoh7gg03"})({name:"p3nxzx",styles:"margin-top:8px;margin-bottom:8px;width:100%;position:relative;float:left;"}),fe=Object($.c)("div",{target:"eoh7gg04"})("padding:26px 24px 24px;margin-left:48px;border-radius:3px;font-size:14px;line-height:1.4;color:",Object($.f)("bodyText"),";overflow:hidden;",Q.d," ",function(e){var t=e.theme;return e.isBorderless&&Object($.b)("box-shadow:",t.notificationBoxShadow,";border-color:",t.white,";background-color:",t.white,";margin-left:45px;")}),be=Object($.c)("div",{target:"eoh7gg05"})({name:"1qgk0pb",styles:"position:absolute;left:0;bottom:10px;"}),ge=Object($.c)("div",{target:"eoh7gg06"})({name:"cy0b9q",styles:"position:relative;display:table;width:100%;div{display:table-cell;vertical-align:top;}"}),ve={name:"xxxqxo",styles:"width:1px;transition:width 300ms 1000ms;"},ye=Object($.c)("div",{target:"eoh7gg07"})("width:40px;",function(e){return e.hasChannel&&ve}),Ce={name:"tvy5p1",styles:"input{border:1px solid #fcedef;background-color:#fcedef;}"},xe={name:"1a8rv0w",styles:".intercom-flag{position:absolute;top:12px;left:12px;z-index:1;transition:transform 300ms;}input{padding-left:33px;}"},je=Object($.c)("div",{target:"eoh7gg08"})("position:relative;input{position:absolute;box-sizing:border-box;height:40px;width:100%;padding:0 12px;font-size:14px;font-family:",Object($.f)("fontSansSerif"),";color:",Object($.f)("inputText"),";border-radius:4px 0 0 4px;border:1px solid ",Object($.f)("inputBorder"),";border-right:0;appearance:none;transition:border 300ms,color 400ms 600ms,padding 300ms 600ms,height 400ms 1000ms;&:disabled{opacity:0.7;}}",function(e){return e.isPhone&&xe}," ",function(e){return e.hasError&&Ce}," ",function(e){var t=e.theme;return e.isSuccessful&&Object($.b)("input{border:1px solid ",t.white,";border-right:0;padding:0;height:20px;font-weight:400;color:",t.bodyText,";text-fill-color:",t.bodyText,";overflow:hidden;text-overflow:ellipsis;&:autofill{box-shadow:0 0 0px 1000px ",t.white," inset;text-fill-color:",t.bodyText," !important;}}.intercom-flag{transform:scale(0);}")}),Ee={name:"127uohz",styles:"padding-left:33px;"},Oe=Object($.c)("span",{target:"eoh7gg09"})("position:absolute;box-sizing:border-box;height:40px;width:100%;padding:4px 12px 0;font-size:14px;font-weight:400;font-family:",Object($.f)("fontSansSerif"),";line-height:32px;color:",Object($.f)("inputPlaceholder"),";cursor:text;overflow:hidden;text-overflow:ellipsis;z-index:1;",function(e){return e.isPhone&&Ee}),we={name:"whh5e5",styles:"opacity:1;"},Se=Object($.c)("div",{target:"eoh7gg010"})("font-size:14px;line-height:24px;color:",Object($.f)("bodyText"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:static;max-height:48px;",function(e){return e.isSuccessful&&we}),ke=Object($.c)("div",{target:"eoh7gg011"})("font-size:14px;line-height:19px;color:",Object($.f)("metaText"),";text-overflow:ellipsis;overflow:hidden;"),_e=Object($.c)("div",{target:"eoh7gg012"})("font-size:14px;line-height:24px;color:",Object($.f)("bodyText"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;"),Ne={name:"psrqyd",styles:"background-color:#38a652;opacity:0;border-radius:4px;height:20px;&:hover{opacity:0;}.intercom-notification-channels-input-submit-icon{opacity:0;transform:rotate(270deg) translate(-4px,-3px);}.intercom-notification-channels-input-valid-icon{opacity:1;transform:rotate(0deg) scale(1);}"},Pe={name:"sllbpf",styles:"opacity:0.7;"},Ae=Object($.c)("div",{target:"eoh7gg013"})("width:35px;height:40px;border-radius:0 4px 4px 0;background-color:",Object($.f)("appColor"),";box-shadow:0 1px 2px 0 rgba(0,0,0,0.15);transition:border-radius 300ms,opacity 300ms 600ms,height 400ms 1000ms;&:hover{opacity:0.7;}",function(e){return e.isDisabled&&Pe}," ",function(e){return e.hasChannel&&Ne}),Re={name:"xfpdpv",styles:".intercom-notification-channel-collector-card-controls-prompt{position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;}.intercom-notification-channel-collector-card-controls-message{position:static;opacity:1;visibility:visible;max-height:48px;}.intercom-notification-channel-collector-card-controls-channels{height:0;opacity:0;}"},Te=Object($.c)("div",{target:"eoh7gg014"})(function(e){return e.isSaved&&Re}),Ie=Object($.c)("div",{target:"eoh7gg015"})("font-size:13px;line-height:20px;height:30px;color:",Object($.f)("metaText"),";transition:opacity 300ms 300ms,height 400ms 1000ms;"),Be=Object($.c)("span",{target:"eoh7gg016"})("margin-right:20px;color:",Object($.f)("grey"),";&:hover{color:",Object($.f)("inputText"),";border-bottom:1px solid;}",function(e){var t=e.theme;return e.isSelected&&Object($.b)("color:",t.inputText,";border-bottom:1px solid;")}),Me=function(e){var t=e.theme;return Object($.b)("margin-bottom:6px;font-size:14px;line-height:24px;max-height:48px;color:",t.bodyText,";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;")},De=Object($.c)("div",{target:"eoh7gg017"})(Me),ze=Object($.c)("div",{target:"eoh7gg018"})(Me," position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;"),qe={name:"1w32lhw",styles:"position:absolute;top:0;bottom:0;width:35px;height:40px;transition:transform 300ms linear,opacity 150ms linear;background-position:center;background-repeat:no-repeat;"},Le=Object($.c)("div",{target:"eoh7gg019"})(qe," ",Object(Q.b)(te.a,ne.a,"8px","13px")," opacity:1;"),Fe=Object($.c)("div",{target:"eoh7gg020"})(qe," ",Object(Q.b)(oe.a,se.a,"18px","14px")," opacity:0;transform:rotate(-90deg) scale(0.5);"),Ue={name:"12bfhs7",styles:"height:0;opacity:0;"},We=Object($.c)("div",{target:"eoh7gg021"})("height:30px;opacity:1;transition:opacity 300ms 300ms,height 400ms 1000ms;",function(e){return e.isSuccessful&&Ue}),He={name:"1qgk0pb",styles:"position:absolute;left:0;bottom:10px;"},Ge=Object($.c)("div",{target:"eoh7gg022"})(function(e){return!e.isBorderless&&He}),Ve=Object($.c)("span",{target:"eoh7gg023"})("font-size:13px;line-height:20px;color:",Object($.f)("metaText"),";margin-right:39px;&:last-child{margin-right:0;}&:hover{color:",Object($.f)("itemHover"),";border-bottom:1px solid;}",function(e){var t=e.theme;return e.isSelected&&Object($.b)("color:",t.bodyText,";border-bottom:1px solid;")});function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xe=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ye(Ke(a=n.call.apply(n,[this].concat(t))||this),"state",{value:a.props.initialValue,valueChanged:!1,showErrorMessage:!1,prevProps:a.props}),Ye(Ke(a),"handleFocus",function(e){if(Object(J.e)())a.focusTimeout=setTimeout(function(){if(a.node){var e=a.node.closest(".intercom-conversation-body-parts");Object(X.A)(a.node,e)}},1e3);else{var t=e.target.value;e.target.value="",e.target.value=t}}),Ye(Ke(a),"handleKeyDown",function(e){var t;13!==(t=e).keyCode||t.altKey||t.shiftKey||(a.handleSubmit(),e.preventDefault())}),Ye(Ke(a),"handleKeyUp",function(){a.props.onInputChange()}),Ye(Ke(a),"handleSubmitButtonClick",function(e){a.isDisabled()||(e.preventDefault(),a.handleSubmit())}),Ye(Ke(a),"handleSubmit",function(){var e=a.state.value,t=a.props,r=t.isValid,n=t.onSubmit;r(e)?(n(e),a.notificationChannelsInput.blur(),a.setState({showErrorMessage:!1})):a.setState({showErrorMessage:!0})}),Ye(Ke(a),"handleInputChange",function(e){var t=e.target.value;a.setState({value:t,showErrorMessage:!1}),a.state.valueChanged||a.setState({valueChanged:a.valueHasChanged()})}),Ye(Ke(a),"handleInputClick",function(){a.notificationChannelsInput.focus()}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},r.getDerivedStateFromProps=function(e,t){if(!t||K()(e,t.prevProps))return null;var r=e.name,n=e.isSaving,a=e.hasExistingChannel,o=e.initialValue,i=r===t.prevProps.name?t.value:o;return n||a?{prevProps:e}:{value:i,prevProps:e,valueChanged:!1,showErrorMessage:!1}},a.valueHasChanged=function(){return this.state.value!==this.props.initialValue},a.valueIsEmpty=function(){return""===this.state.value},a.isPhone=function(){return"phone"===this.props.name},a.shouldShowPlaceholder=function(){return this.state.valueChanged?this.valueIsEmpty():this.valueIsEmpty()||!this.valueHasChanged()},a.isDisabled=function(){return this.props.isSaving||this.props.channelProvided},a.getSubmitClassNames=function(){return l()({"intercom-notification-channels-input-submit-button-saving":this.isDisabled(),"intercom-notification-channels-input-submit-button-success":this.props.channelProvided})},a.getInputType=function(){switch(this.props.name){case"phone":return"text";case"email":return"email";default:return"text"}},a.getErrorMessage=function(){switch(this.props.name){case"phone":var e=Object(Y.c)(this.state.value);return e?Object(N.c)(e):this.props.errorMessage;case"email":return Object(N.c)("that_email_address_doesnt_look_quite_right");default:return"That value doesn't look quite right"}},a.showErrorMessage=function(){return this.state.showErrorMessage||this.props.showErrorMessage},a.renderFlag=function(){var e=Object(Y.a)(this.state.value),t=e?e.code:this.props.initialCountryCode;return C.a.createElement("div",{className:"intercom-flag "+t})},a.renderPlaceholder=function(){var e=this.props,t=e.initialValue,r=e.placeholder,n=this.valueIsEmpty()?{}:{visibility:"hidden"};return C.a.createElement(Oe,{isPhone:this.isPhone(),className:"intercom-notification-channels-placeholder"},C.a.createElement("span",{style:n},t),r)},a.renderErrorMessage=function(){return C.a.createElement(x.CSSTransition,{classNames:"intercom-notification-channels-error",timeout:500},C.a.createElement("div",{key:"notification-channels-error",className:"intercom-notification-channels-error"},C.a.createElement("p",{className:"intercom-notification-channels-error-text",role:"alert"},this.getErrorMessage())))},a.render=function(){var t=this;return C.a.createElement("div",{onClick:t.handleInputClick,ref:function(e){return t.node=e},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleInputClick(e)},role:"button",tabIndex:"0"},C.a.createElement(ge,null,C.a.createElement(je,{isPhone:this.isPhone(),hasError:this.showErrorMessage(),isSuccessful:!!this.props.channelProvided},this.isPhone()?this.renderFlag():null,this.shouldShowPlaceholder()?this.renderPlaceholder():null,C.a.createElement("input",{autoFocus:!0,ref:function(e){return t.notificationChannelsInput=e},type:this.getInputType(),name:"intercom-channel-collector",disabled:this.isDisabled(),value:this.state.value,autoComplete:"off",onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleInputChange,onBlur:Z.d,"aria-label":this.props.ariaLabel})),C.a.createElement(ye,{hasChannel:!!this.props.channelProvided},C.a.createElement(Ae,{onTouchEnd:this.handleSubmitButtonClick,onClick:this.handleSubmitButtonClick,isDisabled:this.isDisabled(),hasChannel:!!this.props.channelProvided,className:this.getSubmitClassNames()},C.a.createElement(Le,{className:"intercom-notification-channels-input-submit-icon"}),C.a.createElement(Fe,{className:"intercom-notification-channels-input-valid-icon"})))),C.a.createElement(x.TransitionGroup,null,this.showErrorMessage()?this.renderErrorMessage():null))},r}(o.Component);Xe.defaultProps={initialValue:"",isSaving:!1,initialCountryCode:"us"},Xe.propTypes={name:a.a.oneOf(["phone","email"]).isRequired,initialValue:a.a.string,placeholder:a.a.string.isRequired,showErrorMessage:a.a.bool.isRequired,errorMessage:a.a.string,ariaLabel:a.a.string,initialCountryCode:a.a.string,isSaving:a.a.bool,channelProvided:a.a.bool.isRequired,isValid:a.a.func.isRequired,onSubmit:a.a.func.isRequired,onInputChange:a.a.func.isRequired,hasExistingChannel:a.a.bool};var Je=function(e,t){return $e(e)&&!Qe(t)},Ze=function(e,t){return $e(e)&&!Qe(t)},$e=function(e){return"visitor"===e||"lead"===e},Qe=function(e){return void 0===e||""===e},et=r(1025);function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nt=function(e){var t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,a=Je(t,r),o=Ze(t,n);return a||o},at=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rt(tt(r=a.call.apply(a,[this].concat(t))||this),"state",{showEmailCollector:!0,showPhoneNumberCollector:!1,hasExistingChannel:nt(r.props),channelProvided:!1,prevProps:r.props}),rt(tt(r),"addNotificationChannelMetric",function(e,t){Object(d.e)(e,"notification_channel_"+t,"messenger","in_conversation",{conversation_id:r.props.conversationId})}),rt(tt(r),"addNotificationChannelShownMetric",function(e){r.addNotificationChannelMetric("received",e)}),rt(tt(r),"addNotificationChannelStartMetric",function(e){r.addNotificationChannelMetric("started",e)}),rt(tt(r),"addNotificationChannelCompleteMetric",function(e){r.addNotificationChannelMetric("completed",e)}),rt(tt(r),"handleEmailClick",function(){r.addNotificationChannelStartMetric("email"),r.setState({showEmailCollector:!0,showPhoneNumberCollector:!1}),r.props.onInputChange()}),rt(tt(r),"handleSmsClick",function(){r.addNotificationChannelStartMetric("sms"),r.setState({showEmailCollector:!1,showPhoneNumberCollector:!0}),r.props.onInputChange()}),rt(tt(r),"handleEmailCollectorSubmit",function(e){r.addNotificationChannelCompleteMetric(r.getEmailCollectorMetricName()),r.props.onEmailCollectorSubmit(e)}),rt(tt(r),"handlePhoneNumberCollectorSubmit",function(e){r.addNotificationChannelCompleteMetric("sms"),r.props.onPhoneNumberCollectorSubmit(e)}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.recordMetrics()},r.getDerivedStateFromProps=function(e,t){if(!t||K()(e,t.prevProps))return null;var r=nt(e),n={prevProps:e,hasExistingChannel:r};return t.hasExistingChannel||(n.channelProvided=r),n},n.recordMetrics=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.smsEnabled,a=Je(t,r);n&&!this.state.hasExistingChannel?this.recordChannelMetrics():n||a||this.addNotificationChannelShownMetric(this.getEmailCollectorMetricName())},n.recordChannelMetrics=function(){var e=this.props.smsEnabled;this.addNotificationChannelShownMetric("options"),this.addNotificationChannelShownMetric("email"),e&&this.addNotificationChannelShownMetric("sms")},n.getEmailCollectorMetricName=function(){return this.props.smsEnabled?"email":"email_collector"},n.existingChannelText=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,a=Ze(t,n);return Je(t,r)?Object(N.c)("youll_be_notified_here_and_by_email"):a?Object(N.c)("youll_be_notified_here_and_by_sms"):void 0},n.existingChannelValue=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,a=Ze(t,n);return Je(t,r)?r:a?n:void 0},n.optionSelected=function(){return this.state.showEmailCollector||this.state.showPhoneNumberCollector},n.getTitle=function(){return this.props.smsEnabled?Object(N.c)("get_notified"):Object(N.c)("get_notified_by_email")},n.renderPhoneNumberCollector=function(){var e=Object(Y.b)(this.props.userCountryCode);return C.a.createElement(Xe,{name:"phone",initialValue:e,placeholder:" 123 456 7890",initialCountryCode:this.props.userCountryCode,isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:Y.d,onSubmit:this.handlePhoneNumberCollectorSubmit,onInputChange:this.props.onInputChange})},n.renderEmailCollector=function(){return C.a.createElement(Xe,{name:"email",ariaLabel:"Enter your email",placeholder:"email@domain.com",isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:et.a,onSubmit:this.handleEmailCollectorSubmit,onInputChange:this.props.onInputChange})},n.renderChannelsBody=function(){return this.state.showEmailCollector?this.renderEmailCollector():this.state.showPhoneNumberCollector?this.renderPhoneNumberCollector():void 0},n.renderOption=function(e,t,r){return C.a.createElement(Ve,{isSelected:t,onClick:r},Object(N.c)(e))},n.renderEmailOption=function(){return this.renderOption("email",this.state.showEmailCollector,this.handleEmailClick)},n.renderSmsOption=function(){return this.renderOption("sms",this.state.showPhoneNumberCollector,this.handleSmsClick)},n.renderOptions=function(){return C.a.createElement(We,null,this.renderEmailOption(),this.props.smsEnabled?this.renderSmsOption():null)},n.renderChannelOptions=function(){return C.a.createElement("div",null,C.a.createElement(pe,null,C.a.createElement(Se,{className:"intercom-notification-channels-title"},this.getTitle()),C.a.createElement(_e,{className:"intercom-notification-channels-title-success"},this.existingChannelText())),this.props.smsEnabled?this.renderOptions():null,this.renderChannelsBody())},n.renderExistingValue=function(){return C.a.createElement(ke,null,this.existingChannelValue())},n.renderSuccessMessage=function(){return C.a.createElement("div",null,C.a.createElement(Se,{isSuccessful:!0},this.existingChannelText()),this.renderExistingValue())},n.render=function(){var e=this.props,t=e.isBorderless,r=e.nextPart,n=this.state,a=n.hasExistingChannel,o=n.channelProvided,i=!!r,s=i&&r.author.isAdmin;return C.a.createElement(ue,{isBorderless:t,nextPartByAdmin:i&&s,lastPart:!i,isSuccessful:a&&o},a&&!o?this.renderSuccessMessage():this.renderChannelOptions())},r}(o.Component);at.propTypes={conversationId:a.a.string.isRequired,userId:a.a.string.isRequired,userRole:a.a.oneOf(["user","lead","visitor"]),userCountryCode:a.a.string,userSuppliedEmail:a.a.string,userName:a.a.string,phoneNumber:a.a.string,isSaving:a.a.bool.isRequired,errorMessage:a.a.string,showErrorMessage:a.a.bool.isRequired,smsEnabled:a.a.bool.isRequired,nextPart:a.a.object,onEmailCollectorSubmit:a.a.func.isRequired,onPhoneNumberCollectorSubmit:a.a.func.isRequired,onInputChange:a.a.func.isRequired,isBorderless:a.a.boolean};var ot=r(815),it=Object(i.connect)(function(e){var t=e.app,r=t.conversationId,n=t.smsEnabled,a=e.user,o=a.id,i=a.role,s=a.userSuppliedEmail,l=a.name,c=a.phoneNumber,u=a.countryCode,p=e.notificationChannels;return{conversationId:r,userId:o,userRole:i,userCountryCode:u,userSuppliedEmail:s,userName:l,phoneNumber:c,smsEnabled:n,isSaving:p.isSaving,showErrorMessage:p.showErrorMessage,errorMessage:p.errorMessage}},function(t){return{onEmailCollectorSubmit:function(e){t(Object(ot.c)(M.a,e))},onPhoneNumberCollectorSubmit:function(e){t(Object(ot.b)(M.a,e))},onInputChange:function(){t(Object(ot.a)())}}},function(e,t,r){var n={onInputChange:function(){return t.onInputChange()}};return Object.assign({},r,e,t,n)})(at);var st=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getAvatarClassName=function(){var e=this.props.isBorderless;return l()({"intercom-notification-channels-card-admin-avatar":!e,"intercom-borderless-card-avatar":e})},a.renderAdminAvatar=function(){var e=this.props.isBorderless;return C.a.createElement(Ge,{isBorderless:e,className:this.getAvatarClassName()},C.a.createElement(k.a,{author:this.props.part.author,size:28}))},a.render=function(){var e=this.props.isBorderless;return C.a.createElement(he,{isBorderless:e},this.props.hasAvatar?this.renderAdminAvatar():null,C.a.createElement(it,{nextPart:this.props.nextPart,isBorderless:e}))},n}(o.Component);st.defaultProps={hasAvatar:!0,isBorderless:!1},st.propTypes={part:a.a.object.isRequired,nextPart:a.a.object,hasAvatar:a.a.bool,isBorderless:a.a.bool};var lt=r(445),ct=r.n(lt);function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dt=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pt(ut(r=a.call.apply(a,[this].concat(t))||this),"state",{text:r.props.initialValue}),pt(ut(r),"handleFocus",function(e){if(Object(J.e)())r.focusTimeout=setTimeout(function(){if(r.node){var e=r.node.closest(".intercom-conversation-body-parts");Object(X.A)(r.node,e)}},1e3);else{var t=e.target.value;e.target.value="",e.target.value=t}}),pt(ut(r),"handleKeyDown",function(e){var t;13!==(t=e).keyCode||t.altKey||t.shiftKey||(r.handleSubmit(),e.preventDefault())}),pt(ut(r),"handleSubmitButtonClick",function(e){e.preventDefault(),r.handleSubmit()}),pt(ut(r),"handleInputClick",function(){r.conversationRatingInput.focus()}),pt(ut(r),"handleInputChange",function(e){var t=e.target.value;r.setState({text:t}),r.props.onChange()}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},n.handleSubmit=function(){var e=this.state.text;(0,this.props.onSubmit)(e),this.conversationRatingInput.blur()},n.getInputClassNames=function(){return l()({"intercom-conversation-rating-input":!0})},n.getSubmitClassNames=function(){return l()({"intercom-conversation-rating-input-submit-button":!0})},n.getContainerClassNames=function(){return l()({"intercom-conversation-rating-input-submit-container":!0})},n.render=function(){var t=this,e=this.state.text;return C.a.createElement("div",{className:"intercom-conversation-rating-remark-container",onClick:t.handleInputClick,ref:function(e){return t.node=e},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleInputClick(e)},role:"button",tabIndex:"0"},C.a.createElement("div",{className:"intercom-conversation-rating-input-container"},C.a.createElement("div",{className:this.getInputClassNames()},C.a.createElement("pre",null,e,C.a.createElement("br",null)),C.a.createElement("textarea",{autoFocus:!0,ref:function(e){return t.conversationRatingInput=e},type:"text",name:"intercom-conversation-rating-remark",value:e,placeholder:this.props.placeholder,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange,onBlur:Z.d})),C.a.createElement("div",{className:this.getContainerClassNames()},C.a.createElement("div",{className:this.getSubmitClassNames(),onTouchEnd:this.handleSubmitButtonClick,onClick:t.handleSubmitButtonClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleSubmitButtonClick(e)},role:"button",tabIndex:"0"},C.a.createElement("div",{className:"intercom-conversation-rating-input-submit-icon"})))))},r}(o.Component);dt.defaultProps={initialValue:""},dt.propTypes={initialValue:a.a.string,placeholder:a.a.string.isRequired,onSubmit:a.a.func.isRequired,onChange:a.a.func.isRequired};var ht=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e,t=this.props.ratingIndex;return l()(((e={"intercom-conversation-rating-emoji-thanks":!0})["intercom-conversation-rating-emoji-"+t]=!0,e))},a.render=function(){return C.a.createElement("span",{className:this.getClassName()})},n}(o.Component);ht.propTypes={ratingIndex:a.a.number.isRequired};var mt=Object($.c)("span",{target:"e1bzxtmt0"})("display:inline-block;width:28px;height:28px;",function(e){var t=e.images;return Object(Q.b)(t.file,t.file2x,"28px","28px")}),ft=Object($.c)("div",{target:"e1bzxtmt1"})("visibility:hidden;margin-top:5px;cursor:pointer;font-size:13px;color:",Object($.f)("subheaderText"),";text-align:center;"),bt=Object($.c)("div",{target:"e1bzxtmt2"})({name:"1baulvz",styles:"display:inline-block;"}),gt=Object($.c)("div",{target:"e1bzxtmt3"})("width:30px;margin:6px 0;display:flex;flex-direction:column;align-items:center;justify-content:space-between;&:hover{",ft.className,"{visibility:visible;}",mt.className,"{transform:scale(1.28);filter:none;}}",function(e){return e.chosen&&Object($.b)(mt.className,"{transform:scale(1.28);}")}," ",function(e){return e.otherChosen&&Object($.b)(mt.className,"{filter:grayscale(1) opacity(0.3);}")});var vt={1:{emoji:"😠",unicode:"1f620",tooltipKey:"terrible",images:{file:r(1113),file2x:r(1114)}},2:{emoji:"🙁",unicode:"1f615",tooltipKey:"bad",images:{file:r(1115),file2x:r(1116)}},3:{emoji:"😐",unicode:"1f610",tooltipKey:"ok_description",images:{file:r(1117),file2x:r(1118)}},4:{emoji:"😃",unicode:"1f603",tooltipKey:"great",images:{file:r(1119),file2x:r(1120)}},5:{emoji:"🤩",unicode:"1f929",tooltipKey:"amazing",images:{file:r(1121),file2x:r(1122)}}},yt=function(s){var e,t;function r(){for(var n,e,t,r,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=s.call.apply(s,[this].concat(o))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),r=function(e){e.preventDefault();var t=n.props,r=t.ratingIndex;(0,t.onRatingChosen)(r)},(t="handleClick")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,n}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getTooltip=function(){var e=this.props.ratingIndex;return Object(N.c)(vt[e].tooltipKey)},n.renderEmojiImage=function(){return C.a.createElement(mt,{className:"intercom-anchor",onClick:this.handleClick,"aria-label":this.getTooltip(),images:vt[this.props.ratingIndex].images})},n.render=function(){var e=this.getTooltip();return C.a.createElement(bt,null,C.a.createElement(gt,{chosen:this.props.chosen,otherChosen:this.props.otherChosen},this.renderEmojiImage(),C.a.createElement(ft,null,e)))},r}(o.Component);yt.propTypes={ratingIndex:a.a.number.isRequired,chosen:a.a.bool,otherChosen:a.a.bool,onRatingChosen:a.a.func.isRequired};var Ct=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),n=function(){e.scrollConversationParts()},(r="handleRemarkChange")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(e){this.hasChosenFirstRating(e)&&this.scrollConversationParts()},n.hasChosenFirstRating=function(e){var t=e.chosenRating,r=this.props.chosenRating;return void 0===t&&void 0!==r},n.scrollConversationParts=function(){if(void 0===this.props.nextPart&&this.node){var e=this.node.closest(".intercom-conversation-body-parts");e&&Object(X.z)(e)}},n.hasRating=function(){return 0<this.props.chosenRating},n.shouldShowThanks=function(){var e=this.props.submitted;return this.hasRemark()||e},n.hasRemark=function(){var e=this.props.remark;return void 0!==e&&""!==e},n.isChosen=function(e){return this.props.chosenRating===e},n.isOtherChosen=function(e){return this.hasRating()&&!this.isChosen(e)},n.getClassName=function(){var e=this.props.nextPart,t=!!e,r=t&&e.author.isAdmin;return l()({"intercom-conversation-rating":!0,"intercom-conversation-rating-next-part-by-admin":t&&r,"intercom-conversation-rating-last-part":!t})},n.renderThanksMessage=function(){return C.a.createElement("div",{className:"intercom-conversation-rating-thanks-wrapper",key:"conversation-rating-thanks"},C.a.createElement("div",{className:"intercom-conversation-rating-thanks-container"},C.a.createElement("div",{className:"intercom-conversation-rating-chosen-rating"},Object(N.c)("you_rated_the_conversation")," ",C.a.createElement(ht,{ratingIndex:this.props.chosenRating})),C.a.createElement("div",{className:"intercom-conversation-rating-thanks"},Object(N.c)("thanks_for_letting_us_know"))),this.hasRemark()?this.renderRemark():null)},n.renderRemark=function(){return C.a.createElement("div",{className:"intercom-conversation-rating-thanks-remark"},this.props.remark)},n.renderRatingForm=function(){return C.a.createElement("div",{key:"conversation-rating-form"},this.renderRatingOptions(),C.a.createElement(x.TransitionGroup,null,this.hasRating()?this.renderRemarkInput():null))},n.renderRatingOptions=function(){for(var e=[],t=1;t<=5;t++)e.push(C.a.createElement(yt,{key:t,ratingIndex:t,chosen:this.isChosen(t),otherChosen:this.isOtherChosen(t),onRatingChosen:this.props.onRatingChosen}));return C.a.createElement("div",{className:"intercom-conversation-rating-options-container"},C.a.createElement("div",{className:"intercom-conversation-rating-title-container"},C.a.createElement("div",{className:"intercom-conversation-rating-title"},Object(N.c)("rate_your_conversation"))),C.a.createElement("div",{className:"intercom-conversation-rating-emojis-container"},e))},n.renderRemarkInput=function(){return C.a.createElement(x.CSSTransition,{classNames:"intercom-conversation-rating-remark-container",timeout:{enter:500,exit:500}},C.a.createElement(dt,{placeholder:Object(N.c)("tell_us_more"),onChange:this.handleRemarkChange,onSubmit:this.props.onRemarkSubmit}))},n.render=function(){var t=this;return C.a.createElement("div",{className:this.getClassName(),ref:function(e){return t.node=e}},C.a.createElement(ct.a,{transitionName:"intercom-conversation-rating",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.shouldShowThanks()?this.renderThanksMessage():this.renderRatingForm()))},r}(o.Component);function xt(n,a,o){return function(e,t){e(jt(a,o));var r=t().session;return n.changeConversationRatingIndex(r,a,o)}}function jt(e,t){return{type:"CHANGE_CONVERSATION_RATING_INDEX",conversationId:e,ratingIndex:t}}function Et(n,a,o){return function(e,t){if(e(Ot(a,o)),void 0===o||""===o)return Promise.resolve();var r=t().session;return n.addConversationRatingRemark(r,a,o)}}function Ot(e,t){return{type:"ADD_CONVERSATION_RATING_REMARK",conversationId:e,remark:t}}Ct.propTypes={chosenRating:a.a.number,remark:a.a.string,submitted:a.a.bool,nextPart:a.a.object,part:a.a.object,onRemarkSubmit:a.a.func.isRequired,onRatingChosen:a.a.func.isRequired};var wt=Object(i.connect)(function(e){return{conversationId:e.app.conversationId}},function(r){return{onRemarkSubmit:function(e,t){r(Et(M.a,e,t))},onRatingChosen:function(e,t){r(xt(M.a,e,t))}}},function(e,t,r){var n=e.conversationId,a=r.part.conversationRating,o={onRemarkSubmit:function(e){return t.onRemarkSubmit(n,e)},onRatingChosen:function(e){return t.onRatingChosen(n,e)},chosenRating:a.chosenRating,remark:a.remark,submitted:a.submitted};return Object.assign({},r,e,t,o)})(Ct);var St=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){return l()({"intercom-conversation-rating-card":!0,"intercom-conversation-rating-card-borderless":this.props.isBorderless})},a.getAvatarClassName=function(){var e=this.props.isBorderless;return l()({"intercom-conversation-rating-card-admin-avatar":!e,"intercom-borderless-card-avatar":e})},a.renderAdminAvatar=function(){return C.a.createElement("div",{className:this.getAvatarClassName()},C.a.createElement(k.a,{author:this.props.part.author}))},a.render=function(){return C.a.createElement("div",{className:this.getClassName()},this.props.hasAvatar?this.renderAdminAvatar():null,C.a.createElement(wt,{nextPart:this.props.nextPart,part:this.props.part}))},n}(o.Component);St.defaultProps={hasAvatar:!0,isBorderless:!1},St.propTypes={part:a.a.object.isRequired,nextPart:a.a.object,hasAvatar:a.a.bool,isBorderless:a.a.bool};var kt=r(1052),_t=r(1006);var Nt=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.part,r=e.appName,n=e.frameWindow,a=t.author,o=t.body;return C.a.createElement(_t.e,{className:"intercom-pointer",isInbox:!0},C.a.createElement(u.b,{appName:r,isReplyStyle:!1,author:a},C.a.createElement(_t.a,{className:"intercom-pointer-body"},C.a.createElement(p.a,{blocks:o,frameWindow:n}),C.a.createElement(kt.e,{isInsideInbox:!0}))))},n}(o.Component);Nt.propTypes={part:a.a.shape({id:a.a.string,author:a.a.object.isRequired,body:a.a.array.isRequired}).isRequired,appName:a.a.string,frameWindow:a.a.object};var Pt=r(1068),At=r(1007),Rt=r(1029);function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bt=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return It(Tt(n=a.call.apply(a,[this].concat(t))||this),"handleEmailChannelClick",function(e){e.preventDefault(),n.props.onChannelChange("email")}),It(Tt(n),"handlePhoneNumberChannelClick",function(e){e.preventDefault(),n.props.onChannelChange("phone")}),It(Tt(n),"isSaved",function(){var e=n.props,t=e.isEmailSaved,r=e.isPhoneNumberSaved;return t||r}),It(Tt(n),"isSelected",function(e){return e===n.props.channel}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){return l()({"intercom-notification-channel-collector-card-controls":!0,"intercom-notification-channel-collector-card-controls-saved":this.isSaved()})},n.getChannelClassName=function(e){return l()({"intercom-anchor":!0,"intercom-notification-channel-collector-card-controls-channel":!0,"intercom-notification-channel-collector-card-controls-channel-selected":this.isSelected(e)})},n.renderChannels=function(){return C.a.createElement(Ie,{className:"intercom-notification-channel-collector-card-controls-channels"},C.a.createElement(Be,{isSelected:this.isSelected("email"),className:this.getChannelClassName("email"),onClick:this.handleEmailChannelClick},Object(N.c)("email")),C.a.createElement(Be,{isSelected:this.isSelected("phone"),className:this.getChannelClassName("phone"),onClick:this.handlePhoneNumberChannelClick},Object(N.c)("sms")))},n.renderPrompt=function(){return C.a.createElement(De,{className:"intercom-notification-channel-collector-card-controls-prompt"},this.props.isPhoneNumberEnabled?Object(N.c)("get_notified"):Object(N.c)("get_notified_by_email"))},n.renderMessage=function(){return C.a.createElement(ze,{className:"intercom-notification-channel-collector-card-controls-message"},this.props.isEmailSaved?Object(N.c)("youll_be_notified_here_and_by_email"):Object(N.c)("youll_be_notified_here_and_by_sms"))},n.render=function(){return C.a.createElement(Te,{isSaved:this.isSaved(),className:this.getClassName()},this.renderMessage(),this.renderPrompt(),this.props.isPhoneNumberEnabled?this.renderChannels():null)},r}(o.PureComponent),Mt=r(1049),Dt=r(1073);function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lt=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return qt(zt(t=a.call.apply(a,[this].concat(r))||this),"state",{channel:"saved"===t.props.phoneNumberSaveState?"phone":"email",prevProps:t.props}),qt(zt(t),"handleChannelChange",function(e){t.setState({channel:e})}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props,r=e.part,n=e.conversationId,a=r.form;a&&a.attributes.forEach(function(e){var t=e.identifier;Object(d.e)("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:n,part_id:r.id,attribute_identifier:t,attribute_type:t,form_type:a.type,attribute_is_custom_data:!1})})},r.getDerivedStateFromProps=function(e,t){return!t||K()(e,t.prevProps)?null:("saved"===e.emailSaveState?r="email":"saved"===e.phoneNumberSaveState&&(r="phone"),r?{channel:r,prevProps:e}:{prevProps:e});var r},n.renderAvatar=function(){return C.a.createElement(be,null,C.a.createElement(k.a,{author:this.props.part.author}))},n.renderControls=function(){var e=this.props,t=e.emailSaveState,r=e.phoneNumberSaveState,n=e.isPhoneNumberEnabled,a="saved"===t,o="saved"===r;return C.a.createElement(Bt,{channel:this.state.channel,isEmailSaved:a,isPhoneNumberSaved:o,isPhoneNumberEnabled:n,onChannelChange:this.handleChannelChange})},n.renderAttribute=function(){var e=this.props,t=e.email,r=e.phoneNumber,n=e.emailSaveState,a=e.phoneNumberSaveState,o=e.defaultCountryCode,i=e.onEmailSubmit,s=e.onPhoneNumberSubmit;return"email"===this.state.channel?C.a.createElement(Mt.a,{value:t,saveState:n,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:i}):C.a.createElement(Dt.a,{value:r,key:r,saveState:a,defaultCountryCode:o,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:s})},n.isSaved=function(){var e=this.props,t=e.emailSaveState,r=e.phoneNumberSaveState;return"saved"===t||"saved"===r},n.render=function(){var e=this.props.isBorderless;return C.a.createElement(me,null,this.props.hasAvatar?this.renderAvatar():null,C.a.createElement(fe,{isBorderless:e},this.renderControls(),this.renderAttribute()))},r}(o.PureComponent),Ft=r(26),Ut=function(e,t){return e.attributes.find(function(e){return e.identifier===t})},Wt=Object(i.connect)(function(e,t){var r,n,a=t.part,o=a.id,i=a.form,s=e.user.countryCode||"us",l=e.app.conversationId,c=Ut(i,"email"),u=Ut(i,"phone"),p=void 0!==u,d=c.value,h=c.saveState;return p&&(r=u.value,n=u.saveState),{conversationId:l,partId:o,email:d,phoneNumber:r,emailSaveState:h,phoneNumberSaveState:n,isPhoneNumberEnabled:p,defaultCountryCode:s}},function(i){return{onAttributeSubmit:function(e,t,r,n,a){var o=r;i(Object(Ft.r)(M.a,e,t,r,n,o,a,!1))}}},function(t,r,n){return Object.assign({},t,r,n,{onEmailSubmit:function(e){r.onAttributeSubmit(t.conversationId,t.partId,"email",e,n.part.form.type)},onPhoneNumberSubmit:function(e){r.onAttributeSubmit(t.conversationId,t.partId,"phone",e,n.part.form.type)}})})(Lt);var Ht=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.shouldRenderNotificationChannelCollector=function(){var e=this.props.part.form;return!!e&&"notification_channel"===e.type},a.render=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isBorderless,a=e.frameWindow;return C.a.createElement("div",{className:"intercom-attribute-collector"},this.shouldRenderNotificationChannelCollector()?C.a.createElement(Wt,{part:t,hasAvatar:r,isBorderless:n}):C.a.createElement(Rt.a,{part:t,hasAvatar:r,isBorderless:n,frameWindow:a,key:JSON.stringify(t)}))},n}(o.PureComponent),Gt=r(183),Vt=Object($.c)("div",{target:"e1bdvrzl0"})("max-width:100%;font-size:14px;vertical-align:middle;line-height:14px;position:relative;",Gt.b.className,"{bottom:-17px;left:45px;}"),Kt=Object($.c)("div",{target:"e1bdvrzl1"})({name:"cz1ym2",styles:"width:30px;display:inline-block;vertical-align:middle;"}),Yt=Object($.c)("div",{target:"e1bdvrzl2"})("color:",Object($.f)("participantText"),";overflow-wrap:break-word;word-break:break-word;"),Xt=Object($.c)("div",{target:"e1bdvrzl3"})({name:"jc7l0f",styles:"display:inline-block;vertical-align:middle;padding:3px 0;margin-left:15px;max-width:calc(100% - 45px);color:#78909c;line-height:1.3;position:relative;"}),Jt=r(1011);var Zt=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.renderAvatar=function(){return C.a.createElement(Kt,null,C.a.createElement(k.a,{author:this.props.part.eventData.participant}))},a.renderText=function(){var r=this,e=this.props.part.createdAt;return C.a.createElement(Jt.a,{content:e&&Object(P.a)(e)},function(e,t){return C.a.createElement(Xt,t,C.a.createElement(Yt,null,r.partTypeText()),e)})},a.partTypeText=function(){return this.props.part.eventData.eventAsPlainText},a.renderTimestamp=function(){var e=this.props.part.createdAt;return C.a.createElement(Gt.b,null,Object(P.a)(e))},a.render=function(){return C.a.createElement(Vt,null,this.renderAvatar(),this.renderText(),this.renderTimestamp())},n}(o.Component);Zt.propTypes={part:a.a.shape({eventData:a.a.shape({participant:a.a.shape({initial:a.a.string.isRequired,label:a.a.string.isRequired,type:a.a.string.isRequired,avatar:a.a.object.isRequired}).isRequired,eventAsPlainText:a.a.string.isRequired}).isRequired,partType:a.a.string.isRequired,createdAt:a.a.instanceOf(Date)})};var $t=r(114),Qt=r(418),er=r(204),tr=r(1056);function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ar=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return nr(rr(n=a.call.apply(a,[this].concat(t))||this),"handleClick",function(e){if(n.handleLinkClick(e),n.isFailedPart()){var t=n.props,r=t.part;(0,t.onRetry)(r)}}),nr(rr(n),"addLinkClickedMetric",function(e,t,r){var n;Object(d.e)("clicked","link","messenger","in_conversation",((n={conversation_id:e})[t.isMessage?"message_id":"comment_id"]=t.id,n.url=r,n.partType=t.messageType,n))}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.handleLinkClick=function(e){var t=e.target;if("a"===t.tagName.toLowerCase()){var r=t.getAttribute("href"),n=this.props,a=n.conversationId,o=n.part;r&&this.addLinkClickedMetric(a,o,r)}},n.isFailedPart=function(){return"failed"===this.props.part.saveState},n.isRichContentType=function(){var e=this.props.part;return!!e.body&&Object($t.f)(e.body)},n.shouldShowMetadata=function(){var e=this.props,t=e.partHasMetadata,r=e.isBorderless;return t&&!r},n.shouldShowInlineMetadata=function(){var e=this.props,t=e.partHasMetadata,r=e.isBorderless;return t&&r&&!this.isRichContentType()},n.renderComment=function(){return Object(Qt.a)(this.props.part.partType)?this.renderEvent():this.renderCommentContainer()},n.renderEvent=function(){var e=this.props.part;return this.props.isBorderless?null:"participant_added"===e.partType||"participant_removed"===e.partType?C.a.createElement(Zt,{part:e}):void 0},n.renderCommentContainer=function(){var e=this.props,t=e.isLastPart,r=e.part,n=e.hasAvatar,a=e.isBorderless,o=e.isMobile,i=e.frameWindow,s=e.onImageClick;return C.a.createElement(Pt.a,{isLastPart:t,part:r,hasAvatar:n,isBorderless:a,isMobile:o,frameWindow:i,showInlineMetadata:this.shouldShowInlineMetadata(),onImageClick:s})},n.renderChatCardGroup=function(){var e=this.props,t=e.appName,r=e.part,n=e.hasAvatar,a=e.isBorderless,o=e.isMobile,i=e.frameWindow;return C.a.createElement(E.a,{appName:t,part:r,hasAvatar:n,isBorderless:a,isMobile:o,showInlineMetadata:this.shouldShowInlineMetadata(),frameWindow:i})},n.renderConversationPart=function(){var e=this.props,t=e.appName,r=e.part,n=e.nextPart,a=e.hasAvatar,o=e.reactionsReply,i=e.onArticleCardClick,s=e.conversationId,l=e.onReactionSelect,c=e.isBorderless,u=e.isMobile,p=e.frameWindow;switch(r.messageType){case"post":return C.a.createElement(v,{appName:t,conversationId:s,part:r,reactionsReply:o,onReactionSelect:l,frameWindow:p});case"note":return C.a.createElement(j,{appName:t,part:r,frameWindow:p});case"link":return C.a.createElement(G,{appName:t,part:r,hasAvatar:a,isBorderless:c,onArticleCardClick:i});case"notificationChannels":return C.a.createElement(st,{part:r,nextPart:n,hasAvatar:a,isBorderless:c});case"conversationRating":return u?this.renderComment():C.a.createElement(St,{part:r,nextPart:n,hasAvatar:a,isBorderless:c});case"attributeCollector":return C.a.createElement(Ht,{part:r,hasAvatar:a,isBorderless:c,frameWindow:p});case"video":case"chat":case"adminReply":return c?this.renderChatCardGroup():this.renderComment();case"pointer":return C.a.createElement(Nt,{appName:t,part:r,frameWindow:p});default:return this.renderComment()}},n.renderMetadata=function(){return C.a.createElement(x.TransitionGroup,null,this.shouldShowMetadata()?C.a.createElement(x.CSSTransition,{classNames:"intercom-conversation-part-metadata",timeout:300},C.a.createElement(At.a,{part:this.props.part})):null)},n.renderReplyType=function(){var e=this.props,t=e.part,r=e.isBorderless,n=e.frameWindow;switch(t.replyType){case"attribute_collector":return C.a.createElement(Rt.a,{part:t,hasAvatar:!1,isBorderless:r,isReplyType:!0,frameWindow:n,key:Object(er.a)(JSON.stringify(t))})}},n.render=function(){var t=this,e=this.props,r=e.setPartRef,n=e.isBorderless,a=e.grouped,o=e.nextPart,i=e.conversationHasScrolled,s=e.part.author,l=s.isAdmin,c=s.isSelf;return C.a.createElement(tr.a,{onClick:this.handleClick,"aria-label":this.isFailedPart()?Object(N.c)("failed_message"):void 0,role:this.isFailedPart()?"button":void 0,tabIndex:this.isFailedPart()?"0":"-1",ref:function(e){return r&&r(e,t.props.part)},isAdmin:l,isSelf:c,isBorderless:n,grouped:a,isLastPart:!o,isFailedPart:this.isFailedPart(),conversationHasScrolled:i},this.renderConversationPart(),this.renderReplyType(),this.renderMetadata())},r}(o.PureComponent);nr(ar,"defaultProps",{isBorderless:!1,isMobile:!1,conversationId:""});var or=r(440),ir=r(878),sr=Object($.d)("0%,30%,100%{transform:translateY(0);}15%{transform:translateY(-2px);}"),lr=Object($.d)("from{opacity:0;height:53px;}to{opacity:0;height:0;}"),cr=Object($.d)("from{opacity:0;transform:scale(0.9);}to{opacity:1;transform:scale(1);}"),ur=Object($.d)("0%{opacity:0;transform:scale(0.6);}50%{opacity:0;transform:scale(0.6);}100%{opacity:1;transform:scale(1);}"),pr={name:"1pso57o",styles:"padding-left:95px;"},dr=Object($.c)("div",{target:"e1vgp1r10"})("position:relative;padding-left:45px;padding-bottom:24px;",function(e){var t=e.theme;return e.isBorderless&&Object($.b)("padding-left:45px;padding-bottom:0;padding-top:10px;position:static;",mr.className,"{position:absolute;bottom:0;left:0;box-shadow:",t.notificationBoxShadow,";border-radius:100%;}",fr.className,"{background:",t.white,";box-shadow:",t.notificationBoxShadow,";border-bottom-left-radius:0;}",fr.className,":after{",Q.f,";}")}," ",function(e){var t=e.theme;return e.isBorderless&&t.isLeftAlign&&pr}," &.intercom-conversation-part-enter-active{transition:transform 100ms;}&.intercom-conversation-part-exit-active{animation:",lr," 300ms 300ms ease-in;}"),hr={name:"10gc2pc",styles:"left:45px;"},mr=Object($.c)("div",{target:"e1vgp1r11"})("position:absolute;left:0;bottom:34px;",function(e){var t=e.theme;return e.isBorderless&&t.isLeftAlign&&hr}," ",dr.className,".intercom-conversation-part-enter &{animation:",cr," 100ms ease-in;}",dr.className,".intercom-conversation-part-exit-active &{animation:",cr," 100ms 200ms ease-in reverse;}"),fr=Object($.c)("div",{target:"e1vgp1r12"})("height:53px;width:66px;padding:0;background:",Object($.f)("adminCommentBackground"),";border-radius:4px;position:relative;transform-origin:bottom left;",dr.className,".intercom-conversation-part-enter &{animation:",ur," 300ms ease-in;}",dr.className,".intercom-conversation-part-exit-active &{animation:",ur," 300ms ease-in reverse;}"),br=Object($.c)("div",{target:"e1vgp1r13"})("width:6px;height:6px;border-radius:100%;background-color:",Object($.f)("metaText"),";position:absolute;top:24px;animation:",sr," 1s infinite ease-in;&:first-of-type{left:20px;}&:nth-of-type(2){left:30px;animation-delay:0.15s;}&:nth-of-type(3){left:40px;animation-delay:0.3s;}");var gr=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.admin,r=e.isBorderless;return C.a.createElement(dr,{isBorderless:r},C.a.createElement(mr,{isBorderless:r},C.a.createElement(ir.a,{admin:t})),C.a.createElement(fr,null,C.a.createElement(br,null),C.a.createElement(br,null),C.a.createElement(br,null),C.a.createElement(or.b,null,Object(N.c)("typing"))))},n}(o.Component);gr.propTypes={admin:a.a.shape({firstName:a.a.string.isRequired}),isBorderless:a.a.bool};var vr=r(995),yr=r(34),Cr=r(1057),xr=r(1058);function jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return Or});var Or=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Er(jr(t=a.call.apply(a,[this].concat(r))||this),"state",{delta:0}),Er(jr(t),"handleHeightChange",function(){t.parts&&t.setState({height:t.parts.clientHeight},function(){var e=t.props.onHeightChange;e&&e(t.state.height)})}),Er(jr(t),"setParts",function(e){t.parts=e}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleHeightChange(),this.context&&this.context.subscribe&&this.context.subscribe("onPartsHeightChange",this.handleHeightChange)},n.componentDidUpdate=function(e){this.handlePartsChange(this.props.conversation.parts.length!==e.conversation.parts.length)},n.componentWillUnmount=function(){this.stopCheckingIfAdminIsTyping()},n.handlePartsChange=function(e){var t=this,r=this.parts.clientHeight,n=this.props,a=n.maxHeight,o=n.isBorderless,i=n.onHeightChange,s=Math.min(r-a,r-this.state.height),l=e&&a<r?s:0;r===this.state.height&&l===this.state.delta||this.setState({height:r,delta:l},function(){(o||e)&&i&&i(t.state.height)})},n.isScrolling=function(){var e=this.props,t=e.scrolledToBottom,r=e.conversation;return!(Object(Cr.h)(r)&&!t)&&0<this.state.delta},n.getStyle=function(){var e="translateY("+this.state.delta+"px)";return{WebkitTransform:e,msTransform:e,transform:e}},n.getPartKey=function(e){return e.isMessage?"message":"part-"+Object(Cr.c)(e)},n.getDividerKey=function(e){return"divider-"+Object(Cr.c)(e)},n.conversationHasScrolled=function(){return this.state.height>=this.props.maxHeight},n.renderDateDivider=function(e){return C.a.createElement(x.CSSTransition,{classNames:"dummy",key:this.getDividerKey(e),timeout:{enter:0,exit:0}},C.a.createElement(xr.c,{key:this.getDividerKey(e)},Object(Cr.b)(e.sentAt||e.createdAt)))},n.renderPart=function(e,t,r,n){var a=this.props,o=a.appName,i=a.conversation,s=a.isBorderless,l=a.isMobile,c=a.onReactionSelect,u=a.onRetry,p=a.onArticleCardClick,d=a.onImageClick,h=a.frameWindow,m=a.setPartRef,f=i.lastTypingAdmin,b=Object(Cr.e)(e,t),g=Object(Cr.h)(i),v=Object(Cr.f)(e,t,s,g,f),y=Object(yr.a)(n).reactionsReply;return C.a.createElement(x.CSSTransition,{classNames:"intercom-conversation-part",key:r,timeout:{enter:3200,exit:600}},C.a.createElement(ar,{key:this.getPartKey(e),part:e,setPartRef:m,nextPart:t,appName:o,conversationId:i.id,reactionsReply:y,onReactionSelect:c,onRetry:u,adminIsTyping:g,hasAvatar:v,grouped:b,isLastPart:void 0===t,partHasMetadata:Object(Cr.g)(e,n,g),isBorderless:s,isMobile:l,frameWindow:h,onArticleCardClick:p,onImageClick:d,conversationHasScrolled:this.conversationHasScrolled()}))},n.renderParts=function(){var a=this,e=this.props,t=e.conversation,o=e.isBorderless,i=t.parts.filter(function(e){return void 0!==e&&!Object(Cr.d)(e)}),s=[];return 0<i.length&&!o&&Object(Cr.j)(i)&&s.push(this.renderDateDivider(i[0])),i.forEach(function(e,t){var r=i[t-1],n=i[t+1];!o&&Object(Cr.i)(r,e)&&s.push(a.renderDateDivider(e)),s.push(a.renderPart(e,n,t,i))}),s},n.checkIfAdminIsStillTyping=function(){var e=this;this.isTypingInterval||(this.isTypingInterval=setInterval(function(){return e.forceUpdate()},1e3))},n.stopCheckingIfAdminIsTyping=function(){clearInterval(this.isTypingInterval),this.isTypingInterval=void 0},n.renderTypingAdmin=function(){var e=this.props.conversation.lastTypingAdmin;return C.a.createElement(x.CSSTransition,{classNames:"intercom-conversation-part",key:"typing-admin",timeout:{enter:3200,exit:600},exit:this.enableTypingLeaveAnimation()},C.a.createElement(gr,{admin:e,isBorderless:this.props.isBorderless}))},n.shouldRenderTypingAdmin=function(){return Object(Cr.h)(this.props.conversation)?(this.checkIfAdminIsStillTyping(),!0):(this.stopCheckingIfAdminIsTyping(),!1)},n.enableTypingLeaveAnimation=function(){var e=this.props.conversation,t=e.parts,r=e.lastTypingAdmin;return!r||!Object(Cr.a)(r,t)},n.render=function(){var e=this.shouldRenderTypingAdmin();return C.a.createElement(xr.b,null,C.a.createElement(xr.a,{ref:this.setParts,style:this.getStyle(),isScrolling:this.isScrolling(),isFaded:this.props.isFaded,isBorderless:this.props.isBorderless},C.a.createElement(x.TransitionGroup,null,this.renderParts()),C.a.createElement(x.TransitionGroup,null,e?this.renderTypingAdmin():null)))},r}(o.Component);Er(Or,"contextType",vr.a),Or.defaultProps={isBorderless:!1,isMobile:!1},Or.propTypes={conversation:a.a.shape({id:a.a.string,lastTypingAdmin:a.a.object,intercomLinkSolution:a.a.string,parts:a.a.arrayOf(a.a.shape({createdAt:a.a.instanceOf(Date)}))}).isRequired,appName:a.a.string.isRequired,isBorderless:a.a.bool,isFaded:a.a.bool,isMobile:a.a.bool,maxHeight:a.a.number,scrolledToBottom:a.a.bool,frameWindow:a.a.any.isRequired,onReactionSelect:a.a.func.isRequired,onRetry:a.a.func.isRequired,onArticleCardClick:a.a.func,onHeightChange:a.a.func,onImageClick:a.a.func,setPartRef:a.a.func}},1065:function(e,t,r){"use strict";var n=r(28),a=r(280),o=r.n(a),i=r(117),s=r.n(i),l=r(7),c=r.n(l),u=r(1),d=r.n(u),p=r(206),h=r.n(p),m=r(63),f=r.n(m),b=r(0),g=Object(b.c)("div",{target:"eytcc8f0"})({name:"1fvlsgw",styles:"position:absolute;height:100%;width:100%;display:block;text-align:center;background-color:rgba(0,0,0,0);z-index:1;"}),v=Object(b.c)("div",{target:"eytcc8f1"})("height:50px;width:290px;padding-top:2px;padding-bottom:2px;display:inline-block;position:relative;background-color:white;box-shadow:0 1px 15px 1px rgba(0,0,0,0.08);border-radius:6px;z-index:2;box-sizing:border-box;",function(e){var t=e.emojiYOffset;return Object(b.b)("top:",t-17,"px;")}),y=Object(b.c)("span",{target:"eytcc8f2"})("padding:3px;width:36px;line-height:1.28;display:inline-block;height:36px;text-align:center;cursor:pointer;vertical-align:middle;font-size:28px;margin:4px 5px 0 6px;box-sizing:border-box;font-family:'Apple Color Emoji','Segoe UI Emoji','NotoColorEmoji','Segoe UI Symbol','Android Emoji','EmojiSymbols',sans-serif;&:hover{background-color:",Object(b.f)("itemHover"),";border-radius:3px;}"),C=Object(b.c)("span",{target:"eytcc8f3"})("border-right:1px solid ",Object(b.f)("dividerBorder"),";height:36px;width:1px;"),x=function(e){var t=e.emojiXOffset;return Object(b.b)("position:absolute;bottom:-8px;right:0;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid white;left:",t-7,"px;")},j=Object(b.c)("div",{target:"eytcc8f4"})(x),E=Object(b.c)("div",{target:"eytcc8f5"})(x," bottom:-9px;border-top:none;");function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(O(r=a.call.apply(a,[this].concat(t))||this),"handleEmojiClick",function(e){var t=f.a.unicodeFromIdentifier(e.target.title);r.props.onEmojiClick(r.props.emoji,t)}),w(O(r),"handleOverlayClick",function(){r.props.onClose()}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.renderEmoji=function(e,t){return d.a.createElement("span",{key:t},d.a.createElement(y,{title:f.a.identifierFromUnicode(e),onClick:this.handleEmojiClick},e),0===t?d.a.createElement(C,null):null)},n.render=function(){var r=this,e=this.props,t=e.emoji,n=e.emojiXOffset,a=e.emojiYOffset,o=f.a.getAllModifiedForBaseEmoji(t);return o.length<=1?null:d.a.createElement(g,{onClick:this.handleOverlayClick},d.a.createElement(v,{emojiYOffset:a},o.map(function(e,t){return r.renderEmoji(e,t)}),d.a.createElement(E,{emojiXOffset:n}),d.a.createElement(j,{emojiXOffset:n})))},r}(u.Component),k=r(16),_={name:"10f5ogp",styles:"transition-delay:0ms;transform:scale(1.2);"},N=Object(b.c)("span",{target:"e1yhe9kr0"})("padding:6px;width:30px;line-height:1.07;display:inline-table;text-align:justify;cursor:pointer;vertical-align:middle;font-size:28px;transition:transform 60ms ease-out;transition-delay:60ms;font-family:'Apple Color Emoji','Segoe UI Emoji','NotoColorEmoji','Segoe UI Symbol','Android Emoji','EmojiSymbols',sans-serif;",function(e){return e.isActive&&_});function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(P(e=a.call.apply(a,[this].concat(r))||this),"state",{isHovering:!1}),A(P(e),"handleEmojiMouseEnter",function(){e.setState({isHovering:!0})}),A(P(e),"handleEmojiMouseLeave",function(){e.setState({isHovering:!1})}),e}return t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e=this.props,t=e.emoji,r=e.index,n=e.title,a=e.onEmojiMouseUp,o=e.onEmojiMouseDown,i=e.isActive,s=n.replace(/(_|-)/gi," ");return d.a.createElement(N,{key:r,className:"intercom-emoji-picker-emoji",title:n,"aria-label":s,role:"button",tabIndex:"0",onMouseUp:a,onMouseDown:o,onMouseEnter:this.handleEmojiMouseEnter,onMouseLeave:this.handleEmojiMouseLeave,onKeyDown:Object(k.v)(a),isActive:this.state.isHovering||i},t)},r}(u.Component),T=r(255),I=r(14),B=r(19),M=r(1027),D=r(141),z=r(440);var q=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.count,r=e.query;return d.a.createElement("span",{"aria-live":"assertive"},r?d.a.createElement(z.b,{role:"alert"},t?d.a.createElement("span",null,t," ",Object(B.c)("article_search_search_results_for_query",{query:r})):Object(B.c)("article_search_no_results_for_query",{query:r})):null)},n}(u.Component),L=r(65),F=r(9),U=r(383),W=r.n(U),H=r(193),G=r.n(H),V=Object(b.c)("span",{target:"e1p2xl350"})(Object(F.b)(W.a,G.a,"576px","576px")," border:10px solid;color:",Object(b.f)("white"),";background-color:",Object(b.f)("white"),";border-color:",Object(b.f)("white"),";cursor:pointer;"),K=Object(b.c)("div",{target:"e1p2xl351"})({name:"it9z2a",styles:"margin:10px -5px;padding-left:3px;"}),Y=Object(b.c)("h3",{target:"e1p2xl352"})("color:",Object(b.f)("metaText"),";font-weight:600;font-size:11px;margin:5px;text-transform:uppercase;line-height:1.27;"),X=Object(b.c)("div",{target:"e1p2xl353"})({name:"jlrjs2",styles:"width:330px;height:260px;"}),J=Object(b.c)("div",{target:"e1p2xl354"})({name:"1nrau3",styles:"width:145px;height:115px;"}),Z=r(1125),$=r.n(Z),Q=r(1126),ee=r.n(Q),te=Object(b.c)("div",{target:"e1w5qe5f0"})("z-index:",Object(F.j)(3),";position:absolute;max-height:",260,"px;bottom:100%;right:calc(50% - 165px);box-shadow:0 1px 15px 1px rgba(0,0,0,0.12);background-color:white;border-radius:6px;",function(e){return e.isBorderless&&Object(b.b)("height:",236,"px;top:",-236,"px;right:7px;")}," &.intercom-composer-popover{&-enter{opacity:0;transform:translateY(5px);}&-enter-active{opacity:1;transform:translateY(0);}&-exit{opacity:1;transform:translateY(0);}&-exit-active{opacity:0;transform:translateY(5px);}&-enter-active,&-exit-active{transition:opacity ease 200ms,transform ease 200ms;}}"),re=Object(b.c)("div",{target:"e1w5qe5f1"})("position:absolute;bottom:-8px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid white;",function(e){var t="gif"===e.popoverType?81:41;return e.shouldHideUploads&&(t-=34),e.isBorderless&&(t+=19),Object(b.b)("right:",t,"px;")}),ne=Object(b.c)("div",{target:"e1w5qe5f2"})("position:absolute;left:0;top:50%;width:100%;margin-top:-7px;font-size:14px;font-weight:bold;text-align:center;color:",Object(b.f)("bodyText"),";"),ae=Object(b.c)("div",{target:"e1w5qe5f3"})("position:absolute;top:0;left:20px;right:20px;height:40px;border-bottom:1px ",Object(b.f)("inputBorder")," solid;"),oe=Object(b.c)("input",{target:"e1w5qe5f4"})(Object(F.b)($.a,ee.a,"16px","16px")," background-position:0 12px;font-weight:normal;font-size:14px;color:",Object(b.f)("inputText"),";padding:10px 0 10px 25px;height:40px;width:100%;box-sizing:border-box;&::placeholder{color:",Object(b.f)("inputPlaceholder"),";}"),ie=Object(b.c)("div",{target:"e1w5qe5f5"})({name:"1mt7bgj",styles:"position:absolute;top:40px;left:0;right:0;bottom:5px;padding:0 20px;overflow-y:scroll;"});function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce="intercom.recentEmoji",ue="1.0",pe=[{baseEmoji:"👍",skintoneEmoji:"👍"},{baseEmoji:"👎",skintoneEmoji:"👎"},{baseEmoji:"😭",skintoneEmoji:"😭"},{baseEmoji:"😕",skintoneEmoji:"😕"},{baseEmoji:"😐",skintoneEmoji:"😐"},{baseEmoji:"😊",skintoneEmoji:"😊"},{baseEmoji:"😍",skintoneEmoji:"😍"}],de=8;function he(){var e=JSON.parse(D.a.get(ce))||{};return e.version&&e.version===ue?e.emoji||[]:(D.a.remove(ce),h()(pe))}function me(t){var e=JSON.parse(D.a.get(ce));if(!e||!e.emoji)return t;var r=t;return e.emoji.forEach(function(e){e.baseEmoji!==t||(r=e.skintoneEmoji)}),r}var fe=function(i){var e,t;function r(){for(var n,e,t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return le(se(n=i.call.apply(i,[this].concat(a))||this),"state",{searchValue:"",hasNativeEmojiSupport:Object(T.c)(),hasLocalStorageSupport:I.a.hasLocalStorageSupport(),skintoneEmojiToShow:null,emojiXOffset:0,emojiYOffset:0}),le(se(n),"emojiMap",(e=f.a.allEmoticonsIdentifierList,t=f.a.unicodeFromIdentifier,e.map(function(e){return{title:e,emoji:t(e)}}))),le(se(n),"handleEmojiMouseDown",function(e){var t=e.target.offsetLeft,r=e.target.offsetTop-Object(M.a)(window,e.target).scrollTop;n.setState({emojiXOffset:t,emojiYOffset:r}),n.emojiLongPressTimeout&&clearTimeout(n.emojiLongPressTimeout),n.emojiLongPressTimeout=setTimeout(function(e){n.setState({skintoneEmojiToShow:e})},500,f.a.unicodeFromIdentifier(e.target.title))}),le(se(n),"handleEmojiMouseUp",function(e){if(n.emojiLongPressTimeout&&clearTimeout(n.emojiLongPressTimeout),!n.state.skintoneEmojiToShow){var t=f.a.unicodeFromIdentifier(e.target.title);n.handleEmojiClick(t)}n.setState({skintoneEmojiToShow:null}),e.preventDefault()}),le(se(n),"handleImageClick",function(e){var t=e.target.title;n.props.onEmojiClick(t)}),le(se(n),"handleSearchChange",function(e){var t=e.target.value;n.setState({searchValue:t})}),le(se(n),"handleClick",function(e){e.stopPropagation()}),le(se(n),"handleEmojiClick",function(e,t){if(void 0!==e){var r=e;n.state.hasLocalStorageSupport&&(r=t||me(e),t&&function(t,r){var e=JSON.parse(D.a.get(ce));if(e&&e.emoji){var n=!1,a=e.emoji;a.forEach(function(e){if(e.baseEmoji===t)return e.skintoneEmoji=r,void(n=!0)}),n||(a=h()(a).concat({baseEmoji:t,skintoneEmoji:r})),D.a.set(ce,JSON.stringify({version:ue,emoji:a}))}}(e,t),function(t,e){void 0===e&&(e=t);var r=pe.find(function(e){return e.baseEmoji===t}),n=he(),a=n.find(function(e){return e.baseEmoji===t}),o=n.indexOf(a);a&&n.splice(o,1),n.unshift({baseEmoji:t,skintoneEmoji:e}),n.length<de&&!r&&(n=n.concat(pe)),D.a.set(ce,JSON.stringify({version:ue,emoji:n}))}(e,r)),n.props.onEmojiClick(r)}}),le(se(n),"handleSkinTonePickerClose",function(){n.setState({skintoneEmojiToShow:null})}),n}t=i,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.hasSearchText=function(){return""!==this.state.searchValue},n.filteredSearchEmoji=function(t){return this.emojiMap.filter(function(e){return-1<e.title.indexOf(t)}).map(function(e){return e.emoji})},n.renderEmoji=function(e,t,r){if(void 0===r&&(r=e),!f.a.isSupportedUnicode(e))return null;var n=f.a.identifierFromUnicode(r),a=this.state.skintoneEmojiToShow===r,o=this.state.hasLocalStorageSupport?me(e):e;return d.a.createElement(R,{key:t,emoji:o,title:n,onEmojiMouseUp:this.handleEmojiMouseUp,onEmojiMouseDown:this.handleEmojiMouseDown,isActive:a})},n.renderImage=function(e,t){return d.a.createElement(V,{key:t,title:f.a.asciiFromUnicode(e),style:f.a.spritemapStyleHash(16,e),onClick:this.handleImageClick,"aria-label":Object(T.b)(e)})},n.renderGroup=function(e,t){var r=this;return d.a.createElement(K,{key:t},d.a.createElement(Y,null,Object(B.c)(f.a.getGroupRepresentatives()[t][1].toLowerCase())),e.map(function(e,t){if(f.a.isEmojiBaseUnicode(e))return r.renderEmoji(e,t)}))},n.renderMostRecent=function(){var r=this,e=he().slice(0,de);return d.a.createElement(K,null,d.a.createElement(Y,null,Object(B.c)("frequently_used")),e.map(function(e,t){return r.renderEmoji(e.skintoneEmoji,t,e.baseEmoji)}))},n.renderFiltered=function(){var r=this,e=this.filteredSearchEmoji(this.state.searchValue);return d.a.createElement(K,null,0===e.length?d.a.createElement(ne,null,Object(B.c)("no_emoji_found")):e.map(function(e,t){if(f.a.isEmojiBaseUnicode(e))return r.renderEmoji(e,t)}))},n.renderGroups=function(){var r=this,e=f.a.prettyEmoticonsUnicodeGroups();return d.a.createElement(d.a.Fragment,null,this.state.hasLocalStorageSupport?this.renderMostRecent():null,e.map(function(e,t){return r.renderGroup(e,t)}))},n.renderEmojiPicker=function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(ae,null,d.a.createElement(oe,{name:"emoji",autoFocus:!0,placeholder:Object(B.c)("search_for_emoji"),value:this.state.searchValue,onChange:this.handleSearchChange,onBlur:L.d,"aria-label":Object(B.c)("search_for_emoji")})),d.a.createElement(q,{query:this.state.searchValue,count:this.filteredSearchEmoji(this.state.searchValue).filter(f.a.isEmojiBaseUnicode).length}),d.a.createElement(ie,{onWheel:k.d,"aria-live":"polite"},this.hasSearchText()?this.renderFiltered():this.renderGroups()))},n.renderSkinTonePicker=function(){return d.a.createElement(S,{emoji:this.state.skintoneEmojiToShow,emojiYOffset:this.state.emojiYOffset,emojiXOffset:this.state.emojiXOffset,onClose:this.handleSkinTonePickerClose,onEmojiClick:this.handleEmojiClick})},n.renderWithoutNativeSupport=function(){var r=this,e=f.a.asciiEmoticonsUnicodeList.slice(0,12);return d.a.createElement(J,{onClick:this.handleClick,tabIndex:"-1"},e.map(function(e,t){return r.renderImage(e,t)}))},n.renderWithNativeSupport=function(){return d.a.createElement(X,{onClick:this.handleClick,tabIndex:"-1"},this.state.skintoneEmojiToShow?this.renderSkinTonePicker():null,this.renderEmojiPicker())},n.render=function(){return this.state.hasNativeEmojiSupport?this.renderWithNativeSupport():this.renderWithoutNativeSupport()},r}(u.Component);fe.propTypes={onEmojiClick:c.a.func.isRequired};var be=r(15),ge=r(1008),ve=r(96),ye=Object(b.c)("div",{target:"e1ui6fit0"})({name:"jlrjs2",styles:"width:330px;height:260px;"}),Ce=Object(b.c)("div",{target:"e1ui6fit1"})({name:"1u3norf",styles:"float:left;width:50%;height:150px;padding:5px;box-sizing:border-box;"}),xe=Object(b.c)("div",{target:"e1ui6fit2"})({name:"10jvw7m",styles:"width:100%;height:100%;cursor:pointer;border-radius:2px;&:hover{box-shadow:0 1px 3px 0 rgba(0,0,0,0.3);}"}),je=Object(b.c)("div",{target:"e1ui6fit3"})({name:"c3jq20",styles:"margin:5px -5px;overflow:hidden;"});function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Oe(Ee(t=a.call.apply(a,[this].concat(r))||this),"state",{query:null}),Oe(Ee(t),"handleClick",function(e){e.stopPropagation()}),Oe(Ee(t),"handleSearchInputChange",Object(ge.a)(function(e){t.setState({query:e.target.value}),t.props.onSearchGifs(e.target.value)},200)),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.props.onSearchGifs()},n.createHandleGifClick=function(t){var r=this;return function(e){r.props.onGifClick(t),e.preventDefault()}},n.renderGif=function(e){var t=Object(B.c)("send");return d.a.createElement(Ce,{key:e.url},d.a.createElement(xe,{style:{background:"url("+e.url+") center center / cover"},onClick:this.createHandleGifClick(e),"aria-label":e.title?t+" "+e.title+" gif":t+" gif"}))},n.renderFetching=function(){return d.a.createElement(ve.a,null)},n.renderResults=function(){var t=this,e=this.props,r=e.fetchingFailed,n=e.gifs;return d.a.createElement(je,null,r?d.a.createElement(ne,null,Object(B.c)("gifs_load_error")):null,r||0!==n.length?null:d.a.createElement(ne,null,Object(B.c)("no_gifs_found")),n.map(function(e){return t.renderGif(e)}))},n.render=function(){var e=this.props.gifs,t=this.state.query;return d.a.createElement(ye,{onClick:this.handleClick,tabIndex:"-1"},d.a.createElement(ae,null,d.a.createElement(oe,{name:"gif",autoFocus:!0,placeholder:Object(B.c)("search_gif"),onChange:this.handleSearchInputChange,onBlur:L.d,"aria-label":Object(B.c)("search_gif")}),d.a.createElement(q,{count:e.length,query:t})),d.a.createElement(ie,{onWheel:k.d,"aria-live":"polite"},this.props.isFetching?this.renderFetching():this.renderResults()))},r}(u.Component);function Se(n,a){return void 0===a&&(a=""),function(t,e){t(ke(a));var r=e().session;return n.searchGifs(r,a).then(function(e){t(_e(a,e))}).catch(function(){t({type:"SEARCH_GIFS_FAILURE",searchTerm:a})})}}function ke(e){return{type:"SEARCH_GIFS_REQUEST",searchTerm:e}}function _e(e,t){return{type:"SEARCH_GIFS_SUCCESS",gifs:t.results,searchTerm:e}}we.propTypes={isFetching:c.a.bool.isRequired,gifs:c.a.array.isRequired,fetchingFailed:c.a.bool.isRequired,onSearchGifs:c.a.func.isRequired,onGifClick:c.a.func.isRequired};var Ne=Object(n.connect)(function(e){var t=e.gifs;return{isFetching:t.isFetching,fetchingFailed:t.fetchingFailed,gifs:t.gifs}},function(t){return{onSearchGifs:function(e){void 0===e&&(e=""),t(Se(be.a,e))}}})(we),Pe=function(){return d.a.createElement("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 16 16"},d.a.createElement("path",{d:"M1.388 15.77c-.977.518-1.572.061-1.329-1.019l1.033-4.585c.123-.543.659-1.034 1.216-1.1l6.195-.72c1.648-.19 1.654-.498 0-.687l-6.195-.708c-.55-.063-1.09-.54-1.212-1.085L.056 1.234C-.187.161.408-.289 1.387.231l12.85 6.829c.978.519.98 1.36 0 1.88l-12.85 6.83z",fillRule:"evenodd"}))},Ae=r(1001),Re=function(){return d.a.createElement("svg",{focusable:"false","aria-hidden":"true",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},d.a.createElement("path",{d:"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zM5 6.999a1 1 0 1 0 2.001 0A1 1 0 0 0 5 7zm5.999 0a1.001 1.001 0 0 0 2.001 0 1 1 0 0 0-2.001 0zm-2.3 6.494c.087.005.174.007.26.007 1.513 0 2.99-.722 4.398-2.149l.35-.356.482-.702-10.326.006.435.62.31.392c.068.083 1.652 2.05 4.092 2.182z",fill:"#ADADAD",fillRule:"evenodd"}))},Te=r(1050),Ie=function(){return d.a.createElement("svg",{focusable:"false","aria-hidden":"true",viewBox:"0 0 29 18"},d.a.createElement("path",{d:"M9 0h11a9 9 0 0 1 0 18H9A9 9 0 0 1 9 0zM6.561 9.337c0 2.277 1.683 3.806 3.773 3.806 1.199 0 2.2-.506 2.882-1.265V9.227H9.784v.814h2.519v1.496a2.895 2.895 0 0 1-1.969.792c-1.606 0-2.827-1.254-2.827-2.992 0-1.749 1.221-2.981 2.827-2.981.88 0 1.661.418 2.123 1.012l.726-.451c-.649-.803-1.551-1.375-2.849-1.375-2.09 0-3.773 1.518-3.773 3.795zM14.701 13h.913V5.663h-.913V13zm2.629 0h.913V9.656h3.817v-.814h-3.817V6.477h3.894v-.814H17.33V13z",fillRule:"nonzero"}))},Be=r(1e3),Me=r(81);function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qe=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ze(De(r=a.call.apply(a,[this].concat(t))||this),"addedEscListener",!1),ze(De(r),"handleEsc",function(e){var t=r.props.onEscapeKey;Object(k.p)(e)&&t()}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(){var e=this.props,t=e.frameWindow,r=e.onEscapeKey,n=e.children;if(t&&r)if(n){if(this.addedEscListener)return;Object(k.c)(t,"keydown",this.handleEsc),this.addedEscListener=!0}else Object(k.y)(t,"keydown",this.handleEsc),this.addedEscListener=!1},n.render=function(){var e=this.props,t=e.children,r=e.popoverType,n=e.isBorderless,a=e.shouldHideUploads;return d.a.createElement(Me.TransitionGroup,null,t?d.a.createElement(Me.CSSTransition,{classNames:"intercom-composer-popover",timeout:{enter:200,exit:200}},d.a.createElement(te,{isBorderless:n},t,d.a.createElement(re,{popoverType:r,isBorderless:n,shouldHideUploads:a}))):null)},r}(u.Component),Le=r(58),Fe=r(283),Ue=Object(b.c)("div",{target:"em5ag1g0"})("background-color:white;padding:0 ",25,"px;font-size:14px;display:flex;flex-direction:column;",te.className,"{bottom:55px;",oe.className,"{padding-left:",25,"px;}}label{color:",Object(b.f)("installRed"),";}",function(e){var t=e.theme;return e.shouldShowSmallStateUpfrontEmailComposer&&Object(b.b)("box-shadow:",t.composerShadowColor," -1px -4px 20px 3px;min-height:200px;height:200px !important;position:absolute;left:0;right:0;bottom:0;")}),We=Object(b.c)("div",{target:"em5ag1g1"})({name:"1vmh9jq",styles:"position:absolute;bottom:0;right:28px;"}),He=Object(b.c)(Fe.g,{target:"em5ag1g2"})(function(e){var t=e.theme;return e.disabled&&Object(b.b)("cursor:auto;svg{opacity:0.65;cursor:auto;path{cursor:auto;fill:",t.grey,";}}&:hover{opacity:0.8;}")}," ",function(e){var t=e.theme;return!e.isPrimaryColorReadable&&Object(b.b)("svg{path{fill:",t.grey,";}}&:hover{opacity:0.65;}")}),Ge=function(e){var t=e.theme;return Object(b.b)("padding:20px 0;&::placeholder{color:",t.grey,";}")},Ve={name:"orqf19",styles:"height:70px;"},Ke={name:"8atqhb",styles:"width:100%;"},Ye=Object(b.c)("textarea",{target:"em5ag1g3"})(Ge," line-height:1.33;overflow-x:hidden;overflow-y:scroll;flex:1;margin:0 0 50px 0;width:calc(100% + ",25,"px);resize:none;",function(e){return!e.theme.visibleScrollBars&&Ke}," ",function(e){return e.small&&Ve}),Xe=Object(b.c)("input",{target:"em5ag1g4"})(Ge," width:100%;border-bottom:1px solid ",Object(b.f)("lightGrey3"),";padding-bottom:16px;",function(e){var t=e.theme;return e.hasError&&Object(b.b)("border-bottom:1px solid ",t.installRed,";margin-bottom:8px;")}),Je=Object(b.c)("span",{target:"em5ag1g5"})("color:",Object(b.f)("installRed"),";");function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var et=function(n){var e,t;function r(){for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Qe($e(s=n.call.apply(n,[this].concat(t))||this),"emailInput",void 0),Qe($e(s),"emailFocusTimeout",null),Qe($e(s),"state",{isTextareaFocused:!1}),Qe($e(s),"renderSendButton",function(){var e=(s.context||{}).isPrimaryColorReadable,t=s.props,r=t.sendButtonDisabled,n=t.onSendMessageClick;return d.a.createElement(He,{onClick:n,disabled:r,isPrimaryColorReadable:e,"aria-label":Object(B.c)("send_a_message")},d.a.createElement(Pe,null))}),Qe($e(s),"renderEmojiPickerButton",function(){var e=(s.context||{}).isPrimaryColorReadable,t=s.props,r=t.showEmojiPicker,n=t.onEmojiPickerToggle;return s.state.isTextareaFocused?d.a.createElement(Fe.b,{className:"intercom-composer-emoji-button",onClick:n,showEmojiPicker:r,"aria-label":Object(B.c)("emoji_picker"),isPrimaryColorReadable:e},r?d.a.createElement(Re,null):d.a.createElement(Ae.a,null)):null}),Qe($e(s),"renderEmojiPicker",function(){var e=s.props,t=e.showEmojiPicker,r=e.onEmojiClick,n=e.onEmojiPickerToggle,a=e.frameWindow;return d.a.createElement(qe,{frameWindow:a,onEscapeKey:n,popoverType:"emoji"},t?d.a.createElement(fe,{onEmojiClick:r}):null)}),Qe($e(s),"renderErrorMessage",function(){var e=s.props.errorMessage;return e?d.a.createElement(Je,null,e):null}),Qe($e(s),"renderEmailInput",function(){var e=s.props,t=e.email,r=e.onEmailChange,n=e.errorMessage,a=n?{"aria-invalid":!0}:{};return d.a.createElement(Xe,Ze({name:"email",ref:function(e){s.emailInput=e},onChange:r,value:t,type:"text",placeholder:Object(B.c)("leave_your_email"),"aria-label":Object(B.c)("your_email"),onFocus:s.handleEmailInputFocus,onBlur:L.d,hasError:!!n},a))}),Qe($e(s),"renderMessageTextArea",function(){var e=s.props,t=e.message,r=e.setTextInput,n=e.onMessageChange,a=e.onCursorReposition,o=e.onWheel,i=e.shouldShowSmallStateUpfrontEmailComposer;return d.a.createElement(Ye,{name:"message",ref:function(e){return r(e)},value:t,placeholder:Object(B.c)("write_your_message"),"aria-label":Object(B.c)("your_message"),onChange:n,onKeyUp:a,onClick:a,onWheel:o,onFocus:s.handleTextareaFocus,onBlur:L.d,small:i})}),Qe($e(s),"handleEmailInputFocus",function(){s.setState({isTextareaFocused:!1})}),Qe($e(s),"handleTextareaFocus",function(){s.setState({isTextareaFocused:!0})}),s}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidMount=function(){this.props.toggleUpfrontEmailCollectorState()},a.componentWillUnmount=function(){this.props.toggleUpfrontEmailCollectorState(),this.emailFocusTimeout&&clearTimeout(this.emailFocusTimeout)},a.componentDidMount=function(){var e=this;this.emailFocusTimeout=setTimeout(function(){e.emailInput&&e.emailInput.focus()},0)},a.render=function(){var e=this.props,t=e.headerHeight,r=e.setComposer,n=e.shouldShowSmallStateUpfrontEmailComposer;return d.a.createElement(Ue,{style:{height:"calc(100vh - "+t+"px)"},ref:function(e){return r(e)},shouldShowSmallStateUpfrontEmailComposer:n},this.renderEmailInput(),this.renderErrorMessage(),this.renderMessageTextArea(),this.renderEmojiPicker(),d.a.createElement(We,null,this.renderEmojiPickerButton(),this.renderSendButton()))},r}(u.PureComponent);Qe(et,"defaultProps",{email:"",message:"",disabled:!1,showEmojiPicker:!1}),Qe(et,"contextType",Le.a);var tt=r(1031),rt=r(380),nt=r(1025),at=r(4),ot=r(995),it=r(114);function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ct=function(n){var e,t;function r(){for(var p,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return lt(st(p=n.call.apply(n,[this].concat(t))||this),"state",{text:p.props.defaultText||"",email:"",errorMessage:"",prevProps:p.props}),lt(st(p),"textHasChanged",function(e){return e.text!==p.state.text}),lt(st(p),"isSubmissionDisabled",function(){var e=p.props.conversation;if(!e)return!1;var t=e.parts,r=e.id;return(!t||0!==t.length)&&!r}),lt(st(p),"handleTextInputChange",function(e){p.setState({text:e.target.value,cursorPosition:Object(k.k)(p.textInput)},p.handleChange)}),lt(st(p),"handleKeyDown",function(e){var t=p.props.conversation;if(ut(e)){if(p.isSubmissionDisabled())try{var r=t.parts,n=(r&&r.length&&r[0]).saveState;Object(at.e)("submitted","message","messenger","in_conversation",{conversation_state:n},"usability_metric")}catch(e){}else p.handleTextSubmit();e.preventDefault()}else p.handleTyping()}),lt(st(p),"handleTyping",o()(function(){p.props.onTyping()},1e3)),lt(st(p),"handleGifClick",function(e){var t=e.url,r=e.width,n=e.height,a=e.attribution,o=e.title;p.props.onSubmit(Object(it.b)(t,r,n,a,o)),p.handleGifPickerToggle()}),lt(st(p),"handleCursorReposition",function(e){var t=Array.from(new Array(4),function(e,t){return t+37});"keyup"===e.type&&t.indexOf(e.keyCode)<0||p.setState({cursorPosition:Object(k.k)(p.textInput)})}),lt(st(p),"handleUploadButtonClick",function(){p.fileInput.click()}),lt(st(p),"handleEmojiPickerToggle",function(){var e=p.props,t=e.showEmojiPicker;(0,e.onEmojiPickerToggle)(),t&&p.focus()}),lt(st(p),"handleEmojiClick",function(e){var t=p.state.text,r=p.state.cursorPosition||t.length,n=r+e.length,a=!p.hasText(),o=Object(k.o)(t,e,r);p.setState({text:o,cursorPosition:n},function(){p.handleEmojiPickerToggle(),a?p.handleTextSubmit():p.handleChange()})}),lt(st(p),"handleGifPickerToggle",function(){var e=p.props,t=e.showGifPicker;(0,e.onGifPickerToggle)(),t&&p.focus()}),lt(st(p),"handleFileSubmit",function(e){var t=e;e.target&&(t=e.target.files),t&&0!==t.length&&(p.createBlocksForImageOrAttachment(t[0]),p.clearFileInput())}),lt(st(p),"createBlocksForImageOrAttachment",function(l){var c=p.props.onSubmit;Object(tt.b)(l).then(function(e){if(e){var t=e.width,r=e.height,n=e.src,a=Object(rt.b)(e.src,l.name,l.type);c(Object(it.b)(n,t,r),a)}else{var o=l.name,i=l.type,s=l.size;c(Object(it.a)(o,i,s),l)}})}),lt(st(p),"handleSubmitButtonClick",function(e){e.preventDefault(),p.handleTextSubmit()}),lt(st(p),"handleFocus",function(){if(Object(I.e)()){if(p.props.onHeaderCollapse(),Object(I.d)())return;setTimeout(function(){p.composer.scrollIntoView()},200)}}),lt(st(p),"handleEmailChange",function(e){var t=e.currentTarget.value;p.setState({email:t,errorMessage:""})}),lt(st(p),"handleSendMessageClick",function(){var e=p.state,t=e.email,r=e.text;p.hasEmailAndMessage()&&(Object(nt.a)(t)?(p.setState({text:""},p.handleChange),p.props.onSubmit(Object(it.c)(r),null,null,t)):p.setState({errorMessage:Object(B.c)("that_email_address_doesnt_look_quite_right")}))}),lt(st(p),"handleUpfrontEmojiClick",function(e){var t=p.state.cursorPosition,r=Object(k.o)(p.state.text,e,t);p.setState({text:r},function(){p.handleEmojiPickerToggle()})}),lt(st(p),"hasEmailAndMessage",function(){var e=p.state,t=e.email,r=e.text;return 0<t.trim().length&&0<r.trim().length}),lt(st(p),"shouldHideUploads",function(){return!p.shouldShowUploadButton()&&!p.hasText()}),lt(st(p),"setTextInput",function(e){p.textInput=e}),lt(st(p),"setComposer",function(e){p.composer=e}),lt(st(p),"renderUpfrontEmailComposer",function(){var e=p.props,t=e.showEmojiPicker,r=e.toggleUpfrontEmailCollectorState,n=e.headerHeight,a=e.conversation,o=e.frameWindow,i=p.state,s=i.text,l=i.email,c=i.errorMessage,u=a&&!!a.id;return d.a.createElement(et,{onMessageChange:p.handleTextInputChange,onEmailChange:p.handleEmailChange,onCursorReposition:p.handleCursorReposition,onSendMessageClick:p.handleSendMessageClick,onEmojiClick:p.handleUpfrontEmojiClick,onEmojiPickerToggle:p.handleEmojiPickerToggle,onWheel:k.d,toggleUpfrontEmailCollectorState:r,setTextInput:p.setTextInput,setComposer:p.setComposer,showEmojiPicker:t,message:s,email:l,errorMessage:c,sendButtonDisabled:!p.hasEmailAndMessage(),headerHeight:n,frameWindow:o,shouldShowSmallStateUpfrontEmailComposer:u})}),lt(st(p),"renderTextArea",function(){var e=p.props.placeholder,t=p.state.text;return d.a.createElement("textarea",{name:"message",ref:function(e){return p.textInput=e},value:t,placeholder:e,"aria-label":e,onChange:p.handleTextInputChange,onKeyDown:p.handleKeyDown,onKeyUp:p.handleCursorReposition,onClick:p.handleCursorReposition,onFocus:p.handleFocus,onBlur:L.d,onWheel:k.d,tabIndex:"0"})}),p}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidMount=function(){var e=this,t=this.composer&&this.composer.clientHeight;this.handleHeightChange(t),this.moveCaretToEndOfText(),Object(I.e)()||this.props.isBorderless||this.focus(),this.context&&this.context.subscribe&&(this.context.subscribe("focusComposer",function(){return e.focus()}),this.context.subscribe("emptyComposer",function(){return e.setState({text:""},e.handleChange)})),this.state.text&&this.props.onChange(this.state.text)},a.componentDidUpdate=function(){this.handleHeightChange(this.composer.clientHeight)},a.componentWillUnmount=function(){this.context&&this.context.subscribe&&(this.context.subscribe("focusComposer",function(){return null}),this.context.subscribe("emptyComposer",function(){return null}))},r.getDerivedStateFromProps=function(e,t){if(!t||s()(e,t.prevProps))return null;var r,n=t.prevProps.defaultText;return(e.defaultText||(r=e.defaultText,/^\s*$/.test(r)))&&e.defaultText!==n?{text:e.defaultText,prevProps:e}:{prevProps:e}},a.handleHeightChange=function(e){var t=this.props.onHeightChange;t&&t(e)},a.handleTextSubmit=function(){this.hasText()&&(this.props.onSubmit(Object(it.c)(this.state.text)),this.setState({text:""},this.handleChange))},a.handleChange=function(){this.props.onChange(this.state.text)},a.clearFileInput=function(){this.fileInput&&(this.fileInput.value=null)},a.focus=function(){var e=this.state.cursorPosition;Object(k.i)(this.textInput,e)},a.hasText=function(){return 0<this.state.text.trim().length},a.shouldShowUploadButton=function(){return Object(I.b)()&&this.props.showUploadButton&&!this.hasText()},a.moveCaretToEndOfText=function(){this.hasText()&&Object(k.i)(this.textInput,this.state.text.length)},a.renderUploadButton=function(){var t=this;return d.a.createElement(Fe.i,{className:"intercom-composer-upload-button",onClick:this.handleUploadButtonClick,"aria-label":Object(B.c)("upload_attachment")},d.a.createElement(Be.a,null),d.a.createElement("input",{ref:function(e){return t.fileInput=e},type:"file",disabled:this.isSubmissionDisabled(),onChange:this.handleFileSubmit,style:{display:"none"}}))},a.renderEmojiPickerButton=function(){var e=this.props,t=e.showEmojiPicker,r=e.isPrimaryColorReadable;return d.a.createElement(Fe.b,{className:"intercom-composer-emoji-button",disabled:this.isSubmissionDisabled(),onClick:this.handleEmojiPickerToggle,"aria-disabled":this.isSubmissionDisabled(),"aria-label":Object(B.c)("emoji_picker"),showEmojiPicker:t,isPrimaryColorReadable:r},t?d.a.createElement(Re,null):d.a.createElement(Ae.a,null))},a.renderEmojiPicker=function(){var e=this.props,t=e.frameWindow,r=e.showEmojiPicker,n=e.isBorderless;return d.a.createElement(qe,{onEscapeKey:this.handleEmojiPickerToggle,frameWindow:t,isBorderless:n,shouldHideUploads:this.shouldHideUploads(),popoverType:"emoji"},r?d.a.createElement(fe,{onEmojiClick:this.handleEmojiClick}):null)},a.renderGifPickerButton=function(){var e=this.props,t=e.showGifPicker,r=e.isPrimaryColorReadable;return d.a.createElement(Fe.d,{className:"intercom-composer-gif-button",disabled:this.isSubmissionDisabled(),onClick:this.handleGifPickerToggle,"aria-disabled":this.isSubmissionDisabled(),"aria-label":Object(B.c)("gif_picker"),showGifPicker:t,isPrimaryColorReadable:r},t?d.a.createElement(Ie,null):d.a.createElement(Te.a,null))},a.renderGifPicker=function(){var e=this.props,t=e.frameWindow,r=e.showGifPicker,n=e.isBorderless;return d.a.createElement(qe,{onEscapeKey:this.handleGifPickerToggle,frameWindow:t,isBorderless:n,shouldHideUploads:this.shouldHideUploads(),popoverType:"gif"},r?d.a.createElement(Ne,{onGifClick:this.handleGifClick}):null)},a.renderSendButton=function(){var e=this.props.isPrimaryColorReadable;return d.a.createElement(Fe.g,{className:"intercom-composer-send-button",disabled:this.isSubmissionDisabled(),onTouchEnd:this.handleSubmitButtonClick,onClick:this.handleSubmitButtonClick,"aria-disabled":this.isSubmissionDisabled(),"aria-label":Object(B.c)("send_a_message"),isPrimaryColorReadable:e},d.a.createElement(Pe,null))},a.renderButtons=function(){var e=this.props,t=e.showGifButton,r=e.isBorderless,n=this.hasText(),a=!Object(I.e)(),o=t&&!Object(I.e)()&&!n,i=this.shouldShowUploadButton();return d.a.createElement(Fe.a,{className:"intercom-composer-buttons",isBorderless:r},o?this.renderGifPickerButton():null,a?this.renderEmojiPickerButton():null,n?this.renderSendButton():null,i?this.renderUploadButton():null)},a.render=function(){var t=this,e=this.props,r=e.shouldShowUpfrontEmailComposer,n=e.isBorderless,a=e.conversationSuggestions,o=a.suggestions,i=a.loading,s=this.state.text;return r?this.renderUpfrontEmailComposer():d.a.createElement(Fe.h,{ref:function(e){return t.composer=e},className:"intercom-composer",isBorderless:n,hasComposerSuggestionsLoading:i,hasComposerSuggestions:0<o.length},d.a.createElement("pre",null,s,d.a.createElement("br",null)),this.renderTextArea(),this.renderGifPicker(),this.renderEmojiPicker(),this.renderButtons())},r}(u.PureComponent),ut=function(e){return 13===e.keyCode&&!(e.altKey||e.shiftKey)};ct.defaultProps={defaultText:"",showEmojiPicker:!1,showGifPicker:!1,showGifButton:!0,showUploadButton:!0,isBorderless:!1,conversationSuggestions:{prompt:[],suggestions:[],loading:!1}},ct.contextType=ot.a,ct.propTypes={placeholder:c.a.string,isPrimaryColorReadable:c.a.bool,showEmojiPicker:c.a.bool,showGifPicker:c.a.bool,showUploadButton:c.a.bool,showGifButton:c.a.bool,defaultText:c.a.string,isBorderless:c.a.bool,shouldShowUpfrontEmailComposer:c.a.bool,onHeightChange:c.a.func,onTyping:c.a.func.isRequired,onChange:c.a.func.isRequired,onSubmit:c.a.func.isRequired,toggleUpfrontEmailCollectorState:c.a.func.isRequired,onEmojiPickerToggle:c.a.func.isRequired,onHeaderCollapse:c.a.func,onGifPickerToggle:c.a.func,headerHeight:c.a.number,conversation:c.a.object,frameWindow:c.a.object,conversationSuggestions:c.a.object};var pt=r(73),dt=r(26),ht=r(44),mt=r(817),ft=r(1010);function bt(e){return e?"draft-"+e:"draft"}function gt(e){return D.b.remove(bt(e))}var vt={saveDraft:function(e,t){return t&&""!==t?D.b.set(bt(e),(r=t,JSON.stringify({text:r}))):gt(e);var r},loadDraft:function(e){var t=D.b.get(bt(e));return t?JSON.parse(t).text:null},removeDraft:gt};t.a=Object(n.connect)(function(e,t){var r=t.conversation,n=r.id,a=e.borderless&&e.borderless.conversationId,o=r.lastParticipatingAdmin,i=r.defaultMessage||vt.loadDraft(n),s=e.app&&e.app.officeHoursResponse,l=e.app.userConversationAttachmentsEnabled,c=e.app.userConversationGifsEnabled,u=Object(ft.d)(e),p=e.app.features.operatorSuggestionsUIConfigEnabled,d=u?"Start typing…":null,h=r.replyPlaceholder,m=void 0===n?Object(B.c)("send_a_message"):Object(B.c)("reply_to_conversation");return{conversationId:n,borderlessConversationId:a,lastParticipatingAdmin:o,officeHoursResponse:s,defaultText:i,placeholder:d||h||m,showUploadButton:l,showGifButton:c,operatorSuggestionsUIConfigEnabled:p,typeaheadSuggestionsEnabled:u}},function(p){return{onTyping:function(e){p(Object(dt.u)(e))},onChange:function(e,t,r,n){n&&p(t?Object(mt.a)(t,r,e):Object(mt.b)(null,e)),vt.saveDraft(e,t),p(Object(dt.b)(e,t,new Date))},onSubmit:function(e,t,r,n,a,o,i,s,l,c){var u={clientId:t,createdAt:a,body:r,file:n};p(Object(dt.j)(be.a,e,u,!1,o,i,s,l,c)),vt.removeDraft(e)},toggleUpfrontEmailCollectorState:function(){p(Object(ht.m)())}}},function(a,o,e){return Object.assign({},a,o,e,{onTyping:function(e){o.onTyping(a.conversationId,e)},onChange:function(e){o.onChange(a.conversationId,e,a.operatorSuggestionsUIConfigEnabled,a.typeaheadSuggestionsEnabled)},onSubmit:function(e,t,r,n){o.onSubmit(a.conversationId,Object(pt.b)(),e,t,new Date,a.conversationId===a.borderlessConversationId,a.lastParticipatingAdmin,a.officeHoursResponse,r,n)}})})(ct)},1068:function(e,t,r){"use strict";var n=r(7),a=r.n(n),o=r(1),y=r.n(o),C=r(989),i=r(1033),x=r(1007),j=r(1045);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){return"messengerCard"===e.type},O=function(e){return!E(e)},w=function(e){return"paragraph"===e.type&&!e.text},l=function(){function e(){s(this,"blocks",[])}return e.prototype.addBlock=function(e){this.blocks.push(e)},e}(),c=function(){function e(){s(this,"groups",[])}return e.prototype.addBlock=function(e){var t=this.groups[this.groups.length-1];t&&t.blocks.every(O)&&O(e)||(t=new l,this.groups.push(t)),t.addBlock(e)},e}(),p=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getBlockGroups=function(){var t=new c;return this.props.part.body.forEach(function(e){return t.addBlock(e)}),t},a.renderBlockGroup=function(e,t,r){var n=this.props,a=n.part,o=n.zoomable,i=n.maxImageWidth,s=n.onImageClick,l=n.isLastPart,c=n.frameWindow,u=n.isBorderless,p=n.hasAvatar,d=a.author,h=d.isAdmin,m=d.isSelf,f=this.props.showInlineMetadata&&r&&e.blocks.every(O),b=e.blocks.every(w),g=e.blocks.every(O),v=e.blocks.every(E);return b?null:y.a.createElement(j.a,{key:t,isText:g,hasAvatar:p,isMessengerCard:v,isBorderless:u,isAdmin:h,isUser:m},y.a.createElement(C.a,{blocks:e.blocks,author:a.author,zoomable:o,maxImageWidth:i,onImageClick:s,isLastPart:l,frameWindow:c}),f?y.a.createElement(x.a,{part:a}):null)},a.render=function(){var r=this,n=this.getBlockGroups();return y.a.createElement(j.b,null,n.groups.map(function(e,t){return r.renderBlockGroup(e,t,t===n.groups.length-1)}))},n}(o.PureComponent),f=r(993),b=r(114),g=r(1011),v=r(183);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),n={tooltipVisible:!(r="state")},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.isMessengerCard=function(){return this.props.part.body.some(function(e){return"messengerCard"===e.type})},n.shouldRenderCommentBody=function(){return this.isMessengerCard()},n.shouldRenderInlineMetadata=function(){return this.props.showInlineMetadata&&!this.shouldRenderCommentBody()},n.renderTimestamp=function(){var e=this.props.part,t=e.showCreatedAt,r=e.createdAt,n=e.body;if(!t)return null;var a=Object(b.f)(n),o=this.shouldRenderCommentBody();return y.a.createElement(v.b,{isSingleBlock:a,hasBody:o},Object(f.a)(r))},n.renderBlocks=function(){var e=this.props,t=e.part,r=e.isMobile,n=e.isBorderless,a=e.hasAvatar,o=e.showInlineMetadata,i=e.onImageClick,s=e.isLastPart,l=e.frameWindow,c=t.body,u=t.author;return this.shouldRenderCommentBody()?y.a.createElement(p,{part:t,isLastPart:s,zoomable:!r,isBorderless:n,hasAvatar:a,showInlineMetadata:o,maxImageWidth:232,onImageClick:i,frameWindow:l}):y.a.createElement(C.a,{autoPlay:!1,blocks:c,author:u,zoomable:!r,maxImageWidth:232,onImageClick:i,frameWindow:l})},n.renderSticker=function(){return y.a.createElement(i.a,{text:Object(b.d)(this.props.part.body[0])})},n.renderBody=function(){var e=this.props.part.body;return 1===e.length&&Object(b.h)(e[0])?this.renderSticker():this.renderBlocks()},n.render=function(){var r=this,e=this.props,n=e.part,t=e.isMobile,a=e.isBorderless,o=e.hasAvatar,i=n.showCreatedAt,s=n.createdAt,l=n.body,c=n.author,u=c.isAdmin,p=c.isSelf,d=t||!i||this.isMessengerCard(),h=Object(b.f)(l),m=this.shouldRenderCommentBody();return y.a.createElement(g.a,{content:s&&Object(f.a)(s),enabled:!d},function(e,t){return y.a.createElement(v.a,S({},t,{className:h?"intercom-comment-single":"intercom-comment",isSingleBlock:h,hasBody:m,isAdmin:u,isUser:p,isFailed:"failed"===n.saveState,isBorderless:a,hasAvatar:o}),r.renderBody(),r.renderTimestamp(),r.shouldRenderInlineMetadata()?y.a.createElement(x.a,{part:r.props.part}):null,e)})},r}(o.Component);u.defaultProps={isMobile:!1,isBorderless:!1},u.propTypes={part:a.a.object.isRequired,isMobile:a.a.bool,isBorderless:a.a.bool,frameWindow:a.a.object,hasAvatar:a.a.bool,showInlineMetadata:a.a.bool,onImageClick:a.a.func,isLastPart:a.a.bool};var d=r(991),h=r(376);r.d(t,"a",function(){return m});var m=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.renderAdminAvatar=function(){return y.a.createElement(h.a,{isBorderless:this.props.isBorderless},y.a.createElement(d.a,{author:this.props.part.author}))},a.renderComment=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isMobile,a=e.isBorderless,o=e.frameWindow,i=e.showInlineMetadata,s=e.onImageClick,l=e.isLastPart;return y.a.createElement(u,{isLastPart:l,part:t,isMobile:n,isBorderless:a,frameWindow:o,hasAvatar:r,showInlineMetadata:i,onImageClick:s})},a.render=function(){var e=this.props,t=e.isBorderless,r=e.hasAvatar,n=e.part,a=n.author,o=a.isAdmin,i=a.isSelf,s=n.body,l=Object(b.f)(s);return y.a.createElement(h.b,{hasAvatar:r,isBorderless:t,isSingleBlock:l,isAdmin:o,isUser:i},this.props.hasAvatar&&this.props.showAvatar?this.renderAdminAvatar():null,this.renderComment())},n}(o.Component);m.defaultProps={showAvatar:!0,hasAvatar:!1,isBorderless:!1,isMobile:!1},m.propTypes={part:a.a.object.isRequired,showAvatar:a.a.bool,hasAvatar:a.a.bool,isBorderless:a.a.bool,isMobile:a.a.bool,frameWindow:a.a.object,showInlineMetadata:a.a.bool,onImageClick:a.a.func,isLastPart:a.a.bool}},1069:function(e,t,r){"use strict";var n=r(1),p=r.n(n),o=r(991),s=r(1024),i=r(989),l=r(1007),c=r(996),u=r(1033),d=r(114),h=r(181);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(m(t=a.call.apply(a,[this].concat(r))||this),"state",{isScrollable:!1,isScrolled:!1}),f(m(t),"handleScrollable",function(){t.setState({isScrollable:!0})}),f(m(t),"handleScroll",function(e){t.setState({isScrolled:0<e.target.scrollTop})}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.renderAdminAvatar=function(){var e=this.props.part.author;return p.a.createElement(h.b,{isAuthorTypeTeam:"team"===e.type},p.a.createElement(o.a,{author:e}))},n.renderInlineMetadata=function(){return p.a.createElement(l.a,{part:this.props.part})},n.renderStickerOrBlocks=function(){var e=this.props,t=e.part,r=t.author,n=t.body,a=e.frameWindow;return 1===n.length&&Object(d.h)(n[0])?p.a.createElement(u.a,{text:Object(d.d)(n[0])}):p.a.createElement(i.a,{blocks:n,zoomable:!0,author:r,frameWindow:a})},n.renderSingleBody=function(){return p.a.createElement(h.c,null,this.renderStickerOrBlocks())},n.renderAuthor=function(){var e=this.props,t=e.appName,r=e.part,n=r.messageType,a=r.author,o=this.state.isScrolled,i="adminReply"===n;return p.a.createElement(h.a,{isScrolled:o},p.a.createElement(s.a,{author:a,appName:t,isReplyStyle:i}))},n.renderFullBody=function(){var e=this.props.isBorderless,t=this.state.isScrollable;return p.a.createElement("div",null,this.props.showAuthor?this.renderAuthor():null,p.a.createElement(h.d,{isScrollable:t,isBorderless:e},p.a.createElement(c.a,{onScrollable:this.handleScrollable,onScroll:this.handleScroll},this.renderStickerOrBlocks())))},n.render=function(){var e=this.props,t=e.hasAvatar,r=e.showAvatar,n=e.isBorderless,a=e.showInlineMetadata,o=e.isMobile,i=e.part.body,s=Object(d.f)(i);return p.a.createElement(h.e,{className:"intercom-chat-card",isSingleBlock:s,isBorderless:n,showAvatar:t&&r,isMobile:o},t&&r?this.renderAdminAvatar():null,s&&n?this.renderSingleBody():this.renderFullBody(),a?this.renderInlineMetadata():null)},r}(n.Component);f(b,"defaultProps",{isBorderless:!1,showAuthor:!0,showAvatar:!0,hasAvatar:!0});var g=r(1068);r.d(t,"a",function(){return j});var a,v,y,C=/^<br>/,x=/<br>$/,j=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.buildNewPart=function(){return Object.assign({},this.props.part,{body:[]})},a.cleanBlockWithPattern=function(e,t){e.text&&(e.text=e.text.trim().replace(t,""))},a.cleanAdjacentBlocks=function(e,t){"messengerCard"===e.type&&"paragraph"===t.type?this.cleanBlockWithPattern(t,C):"paragraph"===e.type&&"messengerCard"===t.type&&this.cleanBlockWithPattern(e,x)},a.cleanParts=function(e){var o=this;return e.map(function(e,t,r){if(t<r.length-1){var n=r[t+1],a=e.body.length-1;o.cleanAdjacentBlocks(e.body[a],n.body[0])}return e})},a.splitPartByBlockType=function(){var t=this,r=[],n=null;return this.props.part.body.forEach(function(e){"paragraph"===e.type&&""===e.text||(0!==r.length&&"messengerCard"!==e.type&&"messengerCard"!==n||r.push(t.buildNewPart()),r[r.length-1].body.push(e),n=e.type)}),this.cleanParts(r)},a.renderCommentContainer=function(e,t,r){var n=this.props,a=n.hasAvatar,o=n.isBorderless,i=n.isMobile,s=n.showInlineMetadata,l=n.frameWindow;return p.a.createElement(g.a,{key:t,part:e,showAvatar:r,hasAvatar:a,isBorderless:o,isMobile:i,frameWindow:l,showInlineMetadata:s})},a.renderChatCard=function(e,t,r,n){var a=this.props,o=a.appName,i=a.hasAvatar,s=a.isBorderless,l=a.showInlineMetadata,c=a.frameWindow,u=a.isMobile;return p.a.createElement(b,{key:t,appName:o,part:e,showAuthor:r,showAvatar:n,hasAvatar:i,isBorderless:s,showInlineMetadata:l,frameWindow:c,isMobile:u})},a.renderPart=function(e,t,r,n){return 1===e.body.length&&"messengerCard"===e.body[0].type?this.renderCommentContainer(e,t,n):this.renderChatCard(e,t,r,n)},a.renderParts=function(a){var o=this;return a.map(function(e,t){var r=0===t,n=t===a.length-1;return o.renderPart(e,t,r,n)})},a.render=function(){var e=this.splitPartByBlockType();return p.a.createElement("div",null,this.renderParts(e))},n}(n.Component);y={isBorderless:!(v="defaultProps"),isMobile:!1,hasAvatar:!0},v in(a=j)?Object.defineProperty(a,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):a[v]=y},1070:function(e,t,r){"use strict";var n=r(117),u=r.n(n),a=r(1),i=r.n(a),s=function(r,n){var a=[],o=0,e=function(e){var t=Date.now();o=o+n<t?t:o+n,a.push(setTimeout(function(){return r(e)},o-t))};return e.cancel=function(){a.forEach(clearTimeout)},e};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return e.map(function(e,t){return t})};t.a=function(o){return function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(c(r=a.call.apply(a,[this].concat(t))||this),"state",{partIndices:d(r.props.conversation.parts)}),p(c(r),"handleNewPart",function(e){var t=r.state.partIndices;-1===t.indexOf(e)&&r.setState({partIndices:t.concat(e)})}),p(c(r),"handleNewDelayedPart",s(r.handleNewPart,1e3)),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(e){var t=this;if(!u()(e,this.props)){var r=e.conversation,n=r.parts,a=r.fetchState,o=this.props.conversation,i=o.parts,s=o.fetchState,l=d(i),c=l.slice(n.length);"summary"!==a||"all"!==s?c.forEach(function(e){return i[e].author.isSelf?t.handleNewPart(e):t.handleNewDelayedPart(e)}):this.setState({partIndices:l})}},n.componentWillUnmount=function(){this.handleNewDelayedPart.cancel()},n.render=function(){var e,t,r=this.props.conversation.parts,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){p(t,e,r[e])})}return t}({},this.props.conversation,{parts:(e=this.state.partIndices,t=r,e.map(function(e){return t[e]}).filter(Boolean))});return i.a.createElement(o,l({},this.props,{conversation:n}))},r}(a.PureComponent)}},1071:function(e,t,r){"use strict";var n=r(1),i=r.n(n),a=r(0),o=r(1047),s={name:"1hj024c",styles:"top:9px;left:-2px;z-index:1;"},l={name:"yd4jrz",styles:"top:9px;right:-2px;z-index:2;"},c={name:"71gyhe",styles:"top:-1px;left:6px;z-index:2;"},u={name:"g7a820",styles:"top:15px;right:14px;z-index:3;"},p={name:"4dozc1",styles:"top:15px;left:14px;z-index:1;"},d=Object(a.b)("width:100%;height:100%;line-height:35px;",o.a.className," &{width:36px;height:36px;line-height:36px;}"),h={name:"c7bh53",styles:"width:20px;height:20px;line-height:20px;"},m=function(e){var t=e.theme,r=e.index,n=e.numOfAvatars;return Object(a.b)("border-radius:50%;position:absolute;border:2px solid ",t.white,";background-color:",t.appColorDarker,";color:white;text-align:center;font-size:17.5px;font-weight:bold;",1===n?d:h," ",function(e,t){switch(t){case 2:switch(e){case 0:return s;case 1:return l;default:return""}case 3:switch(e){case 0:return c;case 1:return u;case 2:return p;default:return""}default:return""}}(r,n))},f=Object(a.c)("div",{target:"eddlj7y0"})(m),b=Object(a.c)("img",{target:"eddlj7y1"})(m),g=Object(a.c)("div",{target:"eddlj7y2"})({name:"12sca19",styles:"width:35px;height:35px;position:relative;float:left;"});function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return C});var C=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y(v(n=a.call.apply(a,[this].concat(t))||this),"renderInitial",function(e,t,r){var n=e.firstName.charAt(0).toUpperCase();return i.a.createElement(f,{key:t,index:t,numOfAvatars:r},n)}),y(v(n),"renderImage",function(e,t,r){var n=e.firstName,a=e.avatar.square128,o=(n||"admin")+" avatar";return i.a.createElement(b,{key:t,src:a,alt:o,index:t,numOfAvatars:r})}),y(v(n),"renderAvatar",function(e,t,r){return e.avatar.square128?n.renderImage(e,r,t):n.renderInitial(e,r,t)}),n}return t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var r=this,n=this.props.admins.filter(Boolean).slice(0,3);return i.a.createElement(g,null,n.map(function(e,t){return r.renderAvatar(e,n.length,t)}))},r}(n.PureComponent);y(C,"defaultProps",{admins:[]})},1073:function(e,t,r){"use strict";var n=r(1),l=r.n(n),a=r(20),i=r.n(a),o=r(1009),s=r(446),c=r(19),u=r(65);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return h(d(t=a.call.apply(a,[this].concat(r))||this),"handleChange",function(e){t.props.onChange(e.target.value.trim())}),h(d(t),"handleKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),t.props.onSubmit())}),h(d(t),"handleFocus",function(e){var t=e.target.value;e.target.value="",e.target.value=t}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.saveState,r=e.isInvalid,n=e.isBorderless,a=e.isReplyType,o=e.isNotificationChannel;return i()({"intercom-phone-number-input":!0,"intercom-phone-number-input-saving":"saving"===t,"intercom-phone-number-input-saved":"saved"===t,"intercom-phone-number-input-failed":"failed"===t,"intercom-phone-number-input-invalid":r,"intercom-phone-number-input-borderless":n,"intercom-phone-number-input-reply-type":a,"intercom-phone-number-input-notification-channel":o})},n.renderFlag=function(){var e=this.props,t=e.defaultCountryCode,r=e.value,n=Object(o.a)(r),a=n?n.code:t;return l.a.createElement("div",{className:["intercom-phone-number-input-flag","intercom-flag",a].join(" ")})},n.renderPlaceholder=function(){var e=this.props,t=e.value,r=e.placeholder;return l.a.createElement("div",{className:"intercom-phone-number-input-placeholder"},0===r.indexOf(t)&&l.a.createElement("span",null,l.a.createElement("span",{className:"intercom-phone-number-input-placeholder-prefix"},t),l.a.createElement("span",{className:"intercom-phone-number-input-placeholder-suffix"},r.replace(t,""))))},n.renderInput=function(){var e=this.props,t=e.value,r=e.saveState,n=e.isBorderless,a=e.isReplyType,o="saving"===r||"saved"===r,i=!(n&&a);return l.a.createElement("input",{name:"phone",type:"text",disabled:o,autoFocus:i,defaultValue:t,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:u.d,"aria-label":Object(c.c)("phone_number")})},n.render=function(){var e=this.props.saveState,t="saving"===e,r=t||"saved"===e,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){h(t,e,r[e])})}return t}({"aria-label":t?Object(c.c)("loading"):Object(c.c)("submit")},t?{role:"progressbar"}:{});return l.a.createElement("div",{className:this.getClassName()},this.renderFlag(),this.renderPlaceholder(),this.renderInput(),l.a.createElement("div",{className:"intercom-phone-number-input-success-icon"}),l.a.createElement("button",p({className:"intercom-phone-number-input-submit-button intercom-submittable-input-submit-button",disabled:r,onClick:this.props.onSubmit},n,{tabIndex:"0"}),l.a.createElement(s.a,null)))},r}(n.PureComponent),f=r(199);function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return v});var v=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return g(b(t=a.call.apply(a,[this].concat(r))||this),"state",{value:t.props.value||Object(o.b)(t.props.defaultCountryCode)+" ",isValid:!0}),g(b(t),"handleChange",function(e){t.setState({value:e,isValid:!0})}),g(b(t),"handleSubmit",function(){var e=t.state.value;Object(o.d)(e)?t.props.onSubmit(e):t.setState({isValid:!1})}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getPlaceholder=function(){return Object(o.b)(this.props.defaultCountryCode)+" 123 456 7890"},n.getErrorMessage=function(){if(this.state.isValid)return Object(c.c)("something_is_wrong");var e=Object(o.c)(this.state.value);return e?Object(c.c)(e):Object(c.c)("that_number_doesnt_look_quite_right")},n.isInvalid=function(){return"failed"===this.props.saveState||!this.state.isValid},n.render=function(){var e=this.props,t=e.saveState,r=e.defaultCountryCode,n=e.isBorderless,a=e.isReplyType,o=e.isNotificationChannel,i=this.getPlaceholder(),s=this.isInvalid();return l.a.createElement("div",null,l.a.createElement(m,{value:this.state.value,saveState:t,placeholder:i,defaultCountryCode:r,isInvalid:s,isBorderless:n,isReplyType:a,isNotificationChannel:o,onChange:this.handleChange,onSubmit:this.handleSubmit}),s&&l.a.createElement(f.a,{errorMessage:this.getErrorMessage()}))},r}(n.Component)},1109:function(e,t,r){e.exports=r.p+"images/next-icon.a9124933.png"},1110:function(e,t,r){e.exports=r.p+"images/next-icon@2x.f3c3e26a.png"},1111:function(e,t,r){e.exports=r.p+"images/check-icon.7cabe467.png"},1112:function(e,t,r){e.exports=r.p+"images/check-icon@2x.2c09c31c.png"},1113:function(e,t,r){e.exports=r.p+"images/rating-1.d23e2d60.png"},1114:function(e,t,r){e.exports=r.p+"images/rating-1@2x.a3ce1c38.png"},1115:function(e,t,r){e.exports=r.p+"images/rating-2.b6481b2d.png"},1116:function(e,t,r){e.exports=r.p+"images/rating-2@2x.bac056e1.png"},1117:function(e,t,r){e.exports=r.p+"images/rating-3.347818fe.png"},1118:function(e,t,r){e.exports=r.p+"images/rating-3@2x.b98f99f2.png"},1119:function(e,t,r){e.exports=r.p+"images/rating-4.e79b0027.png"},1120:function(e,t,r){e.exports=r.p+"images/rating-4@2x.76967faf.png"},1121:function(e,t,r){e.exports=r.p+"images/rating-5.10d57bbf.png"},1122:function(e,t,r){e.exports=r.p+"images/rating-5@2x.e5f22789.png"},1123:function(e,t,r){e.exports=r.p+"images/warning-icon.cc84a0dd.png"},1124:function(e,t,r){e.exports=r.p+"images/warning-icon@2x.d238804a.png"},1125:function(e,t,r){e.exports=r.p+"images/search.23b42295.png"},1126:function(e,t,r){e.exports=r.p+"images/search@2x.b93d3be5.png"},991:function(e,t,r){"use strict";var n=r(1),o=r.n(n),i=r(878),s=r(1071),l=r(874);var c=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getAvatarLabel=function(){return(this.props.user.firstName||"User")+" profile"},a.render=function(){var e=this.props.size,t=this.props.user.initial;return t?o.a.createElement(l.a,{size:e,initial:!0,user:!0,role:"img","aria-label":this.getAvatarLabel()},t):null},n}(n.PureComponent);r.d(t,"a",function(){return a});var a=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.renderTeamAvatar=function(e){return o.a.createElement(s.a,{admins:e})},a.renderAdminAvatar=function(e){return o.a.createElement(i.a,{admin:e,size:this.props.size})},a.renderUserAvatar=function(e){return o.a.createElement(c,{user:e,size:this.props.size})},a.render=function(){var e=this.props.author;switch(e.type){case"team":return this.renderTeamAvatar(e.admins);case"admin":return this.renderAdminAvatar(e);case"user":return this.renderUserAvatar(e);default:return this.renderAdminAvatar(e)}},n}(n.PureComponent)},992:function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"b",function(){return d});var n=r(1),i=r.n(n),a=r(0),s=r(1024),l=r(991);var o,c,u,p=Object(a.c)("div",{target:"e131if020"})(),d=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.appName,r=e.author,n=e.isReplyStyle,a=e.lastActiveAt,o=e.isActive;return i.a.createElement(p,{className:"intercom-authored-container"},i.a.createElement("div",{className:"intercom-authored-container-top"},i.a.createElement("div",{className:"intercom-authored-container-avatar"},i.a.createElement(l.a,{author:r})),i.a.createElement(s.a,{author:r,appName:t,isReplyStyle:n,lastActiveAt:a,isActive:o})),this.props.children)},n}(n.Component);u={isReplyStyle:!(c="defaultProps")},c in(o=d)?Object.defineProperty(o,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[c]=u},993:function(e,t,r){"use strict";r.d(t,"f",function(){return n}),r.d(t,"e",function(){return s}),r.d(t,"d",function(){return l}),r.d(t,"c",function(){return c}),r.d(t,"a",function(){return p}),r.d(t,"b",function(){return d});var a=r(19),o={s:1e3,m:60,h:60,d:24,w:7};function i(e){var t=new Date-e;t=Math.max(0,t);var r="s";for(var n in o){if(t<o[n])break;t/=o[r=n]}return{unit:r,delta:t=Math.floor(t)}}function n(e){if(!e)return"";if("Invalid Date"===e.toString())return"";var t=i(e),r=t.unit,n=t.delta;return"s"===r?Object(a.c)("time_just_now"):"m"===r?Object(a.c)("time_minute_ago",{delta:n}):"h"===r?Object(a.c)("time_hour_ago",{delta:n}):"d"===r?Object(a.c)("time_day_ago",{delta:n}):"w"===r?Object(a.c)("time_week_ago",{delta:n}):void 0}function s(e){var t=i(e),r=t.unit,n=t.delta;return"s"===r||"m"===r&&n<=15?Object(a.c)("updated_in_the_last_15m"):"m"===r?Object(a.c)("updated_in_the_last_hour"):"h"===r?Object(a.c)("updated_today"):"d"===r&&1===n?Object(a.c)("updated_yesterday"):"d"===r?Object(a.c)("updated_this_week"):Object(a.c)("updated_over_a_week_ago")}function l(e){var t=((new Date).getTime()-e.getTime())/6e4;if(t<=15)return Object(a.c)("active_15m_ago",{minutes:15});if(t<=37)return Object(a.c)("active_minute_ago",{minutes:30});if(t<=52)return Object(a.c)("active_minute_ago",{minutes:45});if(t<=90)return Object(a.c)("active_hour_ago",{hours:1});if(t<=1410){var r=Math.round((t-1)/60);return Object(a.c)("active_hour_ago",{hours:r})}if(t<=1470)return Object(a.c)("active_day_ago",{days:1});if(t<=8640){var n=Math.round((t-1)/1440);return Object(a.c)("active_day_ago",{days:n})}return Object(a.c)("active_week_ago")}function c(e,t){return e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}var u=function(e){return("00"+e).substr(-2)};function p(e){if(!e)return null;if("en"!==Object(a.a)())return u(e.getHours())+":"+u(e.getMinutes());var t=e.getHours();return 0===t&&(t=12),(t=12<t?t%12:t)+":"+u(e.getMinutes())+" "+(e.getHours()<12?"am":"pm")}function d(e,t){var r=e.valueOf()+60*e.getTimezoneOffset()*1e3;return p(new Date(r+1e3*t))}},996:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),o=r.n(n),i=r(16),s=r(1008),l=r(62);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u(c(n=a.call.apply(a,[this].concat(t))||this),"state",{scrollable:!1,scrolled:!1}),u(c(n),"scrollable",void 0),u(c(n),"handleScroll",Object(s.b)(function(e){var t=e.target.scrollTop;n.setState({scrolled:0<t});var r=n.props.onScroll;r&&r(e)},17)),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(){this.handleScrollable()},n.componentDidMount=function(){this.handleScrollable()},n.handleScrollable=function(){var e=this.props.onScrollable;!this.state.scrollable&&this.isScrollable()&&(this.setState({scrollable:!0}),this.scrollable&&e&&e(this.scrollable))},n.isScrollable=function(){return!!this.scrollable&&this.scrollable.scrollHeight>this.scrollable.clientHeight},n.render=function(){var t=this;return o.a.createElement(l.a,{className:"intercom-scrollable",isInsideModal:this.props.isInsideModal,onScroll:this.handleScroll,onWheel:i.d,tabIndex:this.state.scrollable?"0":"-1",ref:function(e){return t.scrollable=e}},this.props.children)},r}(n.Component)},997:function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"i",function(){return u}),r.d(t,"g",function(){return p}),r.d(t,"c",function(){return d}),r.d(t,"h",function(){return f}),r.d(t,"a",function(){return b}),r.d(t,"f",function(){return g}),r.d(t,"e",function(){return v}),r.d(t,"d",function(){return y});var n=r(0),a=r(23),o=r(1054),i=r(259),s={name:"542elh",styles:"padding-top:10px;"},l={name:"1rubczb",styles:"padding:0 0 0 45px;background:none;"},c=Object(n.c)("div",{target:"e1y2xk9v0"})("background:white;padding:0 16px;position:relative;transition:padding 100ms;",function(e){return e.isBorderless&&l}," ",function(e){var t=e.isBorderless,r=e.suggestionsVisible;return t&&r&&s}," ",i.a.className,"{position:absolute;bottom:5px;right:21px;}"),u=Object(n.c)("h3",{target:"e1y2xk9v1"})("display:block;color:",Object(n.f)("grey"),";font-size:14px;padding:8px 5px;text-align:right;"),p=Object(n.c)("div",{target:"e1y2xk9v2"})({name:"xbrvud",styles:"border-top:none;position:relative;"}),d=200,h={name:"3dmdqb",styles:"transition:none;"},m={name:"1th64ki",styles:"transition-delay:300ms;"},f=Object(n.c)("div",{target:"e1y2xk9v3"})("position:relative;transition:height ",d,"ms;overflow:hidden;",function(e){var t=e.height;return Object(n.b)("height:",t,"px;")}," ",function(e){return 0===e.height&&m}," ",function(e){return e.isInboundBot&&h}),b=10,g=Object(n.c)(o.a,{target:"e1y2xk9v4"})("position:absolute;right:0;top:0;display:inline-block;font-size:14px;line-height:18px;margin:0 ",b/2,"px ",b,"px ",b/2,"px;padding:10px;border-radius:6px;background-color:",Object(n.f)("quickReplyBackgroundColor"),";color:",Object(n.f)("quickReplyTextColor"),";&:hover{background-color:",Object(n.f)("appColor"),";color:",Object(n.f)("white"),";}",function(e){var t=e.theme;return"light"===t.primaryType&&Object(n.b)("&:hover{color ",t.black,"}")}," ",function(e){var t=e.theme;return"article"===e.type&&Object(n.b)("background-color:",Object(a.b)(t.quickReplyBackgroundColor,10),";&:hover{background-color:",Object(a.b)(t.appColor,10),";}")}),v=Object(n.c)("div",{target:"e1y2xk9v5"})({name:"36wep1",styles:"position:absolute;visibility:hidden;pointer-events:none;opacity:0;left:0;right:0;height:0;"}),y=Object(n.c)("div",{target:"e1y2xk9v6"})({name:"1baulvz",styles:"display:inline-block;"})}}]);